(self.webpackChunk_SK=self.webpackChunk_SK||[]).push([["application"],{"./app/ui/application/index.js":(e,t,n)=>{"use strict";n.r(t);n("../caches/app/node_modules/@shopify/polyfills/base.esnext");var s=n("../caches/app/node_modules/@shopify/marketing-assets/dist/javascripts/index.js"),i=n("../caches/app/node_modules/jquery/dist/jquery.js"),r=n.n(i);n("./app/ui/application/vendor/jquery.validationEngine.js"),n("./app/ui/application/vendor/jquery.validationEngine-en.js"),n("./app/ui/application/vendor/jquery.sticky.js");r().ajaxSetup({beforeSend:function(e,t){t.skipHeaderOverride||e.setRequestHeader("Accept","text/javascript")}}),r().cookie=function(e,t,n){if(arguments.length>1&&"[object Object]"!==String(t)){if(n=r().extend({},n),null==t&&(n.expires=-1),"number"==typeof n.expires){var s=n.expires,i=n.expires=new Date;i.setDate(i.getDate()+s)}return t=String(t),document.cookie=[encodeURIComponent(e),"=",n.raw?t:encodeURIComponent(t),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}var a,o=(n=t||{}).raw?function(e){return e}:decodeURIComponent;return(a=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?o(a[1]):null},window.getURLParameter=function(e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null},r().fn.extend({size:function(){return this.length}}),r().fn.putCursorAtEnd=function(){return this.each((function(){var e=r()(this),t=this;if(e.is(":focus")||e.focus(),t.setSelectionRange){var n=2*e.val().length;setTimeout((function(){t.setSelectionRange(n,n)}),1)}else e.val(e.val())}))};n("./app/ui/application/vendor/modernizr.exec.js");function a(e){e.on("change",(function(e){window.location.href="/websites/"+r()(e.currentTarget).val()}))}var o="theme-search--is-active",l="theme-search__results",d="theme-search__results-button",c="theme-search__results-link",u="theme-search__results-text",h="theme-search__input-clear-button",p="theme-search__results-section--is-visible",m="theme-search-overlay--is-open",f="page--search-is-open",v="theme-search__results-button--is-active",g={$window:r()(window),$html:r()("html"),$body:r()("body"),$searchOverlay:r()(".theme-search-overlay"),$searchOverlayActivators:r()('[data-module="theme-search-activator"]'),$pageContainer:r()("#PageContainer")},b=/[\\^$.*+?()[\]{}|]/g,y=RegExp(b.source);function x(e,t){var n,s="\\b"+_.compact((n=t,(n=String(n))&&y.test(n)?n.replace(b,"\\$&"):n).trim().split(" ")).join("\\b|\\b");return e.replace(new RegExp(s,"gi"),(function(e){return"<em>"+e+"</em>"}))}function w(e){!e.length&&e instanceof jQuery||(this.nodes={$searchNode:e,$searchForm:e.find(".theme-search__form"),$searchInput:e.find(".theme-search__input"),$searchResults:e.find(".theme-search__results"),$searchSuggestions:e.find(".theme-search__results-section--suggestions"),$searchSuggestionsList:e.find(".theme-search__results-section--suggestions .theme-search__results-list"),$searchSuggestionsButtons:e.find(".theme-search__results-section--suggestions .theme-search__results-button"),$quickLinks:e.find(".theme-search__results-section--quick-links"),$quickLinksList:e.find(".theme-search__results-section--quick-links .theme-search__results-list"),$emptyState:e.find(".theme-search__results-section--empty"),$emptyStateList:e.find(".theme-search__results-section--empty .theme-search__results-list"),$emptyStateButtons:e.find(".theme-search__results-section--empty .theme-search__result"),$searchInputClearButton:e.find(".theme-search__input-clear-button"),$searchInputCloseButton:e.find(".theme-search__input-close-button"),$screenReaderText:e.find("#searchResultsScreenReaderText")},this.isResultsOpen=!1,this.isOverlayOpen=!1,this.isNavigatingResults=!1,this.currentQuickLinkUrl=null,this.currentResultsIndex,this.previousQuery="",this.queryOnLoad=this.nodes.$searchInput.val(),this.queryBeforeNavigatingResults=this.nodes.$searchInput.val(),this.numberOfResults=this.nodes.$emptyStateButtons.length,this.$currentResults=this.nodes.$emptyStateButtons,g.$searchOverlayActivators.on("click",this.openOverlay.bind(this)),this.nodes.$searchInput.on("focus",this.openResults.bind(this)).on("keyup paste cut",this.onSearchInputChange.bind(this)).on("keydown",this.navigateResults.bind(this)),this.nodes.$searchNode.on("blur",".theme-search__input",this.closeResults.bind(this)),this.nodes.$searchResults.on("click",this.goToResult.bind(this)).on("blur",this.closeResults.bind(this)),this.nodes.$searchInputClearButton.on("click",this.resetSearch.bind(this)),this.nodes.$searchInputCloseButton.on("click",this.closeOverlay.bind(this)),this.nodes.$searchForm.on("submit",this.checkIfQuickLinkUrl.bind(this)))}function k(e){var t=e.find(".marketing-form__button"),n=e.find(".marketing-form__messages");function i(e){n.html(r()("<span/>",{class:"error"}).text(e))}e.on("submit",(function(n){n.preventDefault(),t.attr("disabled",!0),r().post({url:"/login/authenticate",data:e.serialize()}).done((function(e){e.redirect&&(window.location=e.redirect),e.error&&i(e.error)})).fail((function(){i(s.ag.t("theme_store_frontend.unexpected_login_error",{defaults:[{scope:"theme_store_frontend.unexpected_login_error"}]}))})).always((function(){t.attr("disabled",!1)}))}))}function T(e,t){var n=_.extend({reviewLink:"#ReviewLink",reviewForm:"#ReviewForm",submitReview:".new_review, .edit_review"},t);this.$nodes={body:r()(document.body),reviewWrapper:e,reviewLink:e.find(n.reviewLink),reviewURL:e.find(n.reviewLink).attr("href"),reviewForm:e.find(n.reviewForm)},this.initReviewModalComplete=_.bind(this.initReviewModalComplete,this),this._getModalMarkup=_.bind(this._getModalMarkup,this),this.$nodes.reviewForm.length&&this.initReviewModal()}function S(e){var t=_.extend({replyLinks:".review_reply_links"});this.$nodes={reviewWrapper:e,replyLinks:e.find(t.replyLinks)},this.$nodes.replyLinks.length&&this.findReviewElement()}w.prototype.checkIfQuickLinkUrl=function(e){this.currentQuickLinkUrl&&(e.preventDefault(),window.location.href=this.currentQuickLinkUrl)},w.prototype.openResults=function(){this.queryOnLoad?(this.getResults(this.queryOnLoad),this.queryOnLoad=""):this.nodes.$searchInput.val()||this.nodes.$emptyState.addClass(p),this.nodes.$searchNode.addClass(o),this.isResultsOpen=!0},w.prototype.resetSearch=function(){this.abortRequest(),this.nodes.$searchInput.val(""),this.currentQuickLinkUrl=null,this.showEmptyState(),this.openOverlay()},w.prototype.closeResults=function(e){if(e){var t=r()(e.relatedTarget);if(t.parents("."+l).length||t.hasClass(l)||t.hasClass(h))return;this.isNavigatingResults&&this.nodes.$searchInput.val(this.queryBeforeNavigatingResults)}this.nodes.$searchNode.removeClass(o),this.isResultsOpen=!1,this.isNavigatingResults=!1,this.currentResultsIndex=0,this.$currentResults.removeClass(v)},w.prototype.goToResult=function(e){var t=r()(e.target),n=t.text().trim();t.hasClass(d)&&(this.nodes.$searchInput.val(n),this.nodes.$searchForm.trigger("submit"))},w.prototype.onSearchInputChange=(0,s.Ds)((function(e){(e=this.nodes.$searchInput.val().trim())&&e!==this.previousQuery&&e!==this.queryBeforeNavigatingResults?this.getResults(e):""===e&&(this.previousQuery="",this.abortRequest(),this.showEmptyState())}),250),w.prototype.navigateResults=function(e){if(this.isResultsOpen){var t=e.keyCode;t===s.gB.UP&&this.isResultsOpen?(e.preventDefault(),this.setActiveResult("up")):t===s.gB.DOWN&&this.isResultsOpen?(e.preventDefault(),this.setActiveResult("down")):t===s.gB.ESCAPE&&(e.preventDefault(),this.queryBeforeNavigatingResults="",this.closeOverlay())}},w.prototype.setActiveResult=function(e){e=e;var t,n,s,i=this.numberOfResults;if(!1===this.isNavigatingResults)"up"===e?t=i-1:"down"===e&&(t=0),this.queryBeforeNavigatingResults=this.nodes.$searchInput.val(),r()(this.$currentResults[t]).addClass(v),s=r()(this.$currentResults[t]).find("."+u).text(),this.currentResultsIndex=t;else{if(t=this.currentResultsIndex,r()(this.$currentResults[t]).attr("aria-selected",!1).removeClass(v),"down"===e&&t===i-1||"up"===e&&0===t)return this.currentResultsIndex=0,this.isNavigatingResults=!1,this.$currentResults.removeClass(v),void this.nodes.$searchInput.val(this.queryBeforeNavigatingResults);"up"===e?n=this.currentResultsIndex-1:"down"===e&&(n=this.currentResultsIndex+1),r()(this.$currentResults[n]).attr("aria-selected",!0).addClass(v),this.currentResultsIndex=n,s=r()(this.$currentResults[n]).find("."+u).text()}r()(this.$currentResults[this.currentResultsIndex]).hasClass(c)?this.currentQuickLinkUrl=this.$currentResults[this.currentResultsIndex].href:this.currentQuickLinkUrl=null,this.isNavigatingResults=!0,this.previousQuery=s,this.nodes.$searchInput.val(s)},w.prototype.getResults=function(e){this.abortRequest(),this.previousQuery=e,this.isNavigatingResults=!1,this.currentResultsIndex=0,this.currentQuickLinkUrl=null,this.request=r().ajax({url:"/search/autocomplete?q="+e,success:this.showSearchResults.bind(this),error:function(e,t){"abort"!==t&&this.closeResults.bind(this)}})},w.prototype.abortRequest=function(){this.request&&"function"==typeof this.request.abort&&this.request.abort()},w.prototype.showSearchResults=function(e){if(e&&e.length){this.nodes.$searchSuggestionsList.html(""),this.nodes.$quickLinksList.html(""),this.numberOfResults=e.length,e.forEach(function(e){var t="";e.type&&(t=r()("<span/>",{class:"theme-search__results-type"}).text(e.type));var n=x(e.value,this.previousQuery);e.type?r()("<li/>",{class:"theme-search__results-list-item"}).html(r()("<a/>",{href:e.quick_link,class:"theme-search__result theme-search__results-link"}).html([r()("<span/>",{class:"theme-search__results-text"}).html(n),t])).appendTo(this.nodes.$quickLinksList):r()("<li/>",{class:"theme-search__results-list-item"}).html(r()("<button/>",{href:e.quick_link,class:"theme-search__result theme-search__results-button"}).html([r()("<span/>",{class:"theme-search__results-text"}).html(n),t])).appendTo(this.nodes.$searchSuggestionsList)}.bind(this),""),this.isResultsOpen||this.openResults();var t=this.nodes.$searchResults.find(".theme-search__results-section--suggestions .theme-search__result"),n=this.nodes.$searchResults.find(".theme-search__results-section--quick-links .theme-search__result");this.$currentResults=t.add(n),this.nodes.$emptyState.removeClass(p),this.nodes.$searchSuggestions.toggleClass(p,t.length>0),this.nodes.$quickLinks.toggleClass(p,n.length>0),this.nodes.$screenReaderText.text(s.ag.t("theme_store_frontend.theme_search.number_of_results",{count:this.numberOfResults,search_query:this.previousQuery}))}else this.closeResults()},w.prototype.showEmptyState=function(){this.nodes.$emptyState.addClass(p),this.nodes.$searchSuggestions.removeClass(p),this.nodes.$quickLinks.removeClass(p),this.openResults(),this.numberOfResults=this.nodes.$emptyStateButtons.length,this.$currentResults=this.nodes.$emptyStateButtons},w.prototype.openOverlay=function(e){e&&(this.$lastFocusedActivator=r()(e.currentTarget)),g.$pageContainer.off("click"),setTimeout(function(){g.$pageContainer.on("click",this.closeOverlay.bind(this))}.bind(this),0),g.$html.addClass(m),g.$body.addClass(f),this.isOverlayOpen=!0,this.nodes.$searchInput.focus(),this.nodes.$searchInput.putCursorAtEnd(),s.Mu.prototype.trapFocus(g.$searchOverlay.get(0))},w.prototype.closeOverlay=function(){this.isOverlayOpen&&(this.abortRequest(),this.isOverlayOpen=!1,g.$html.removeClass(m),g.$body.removeClass(f),g.$searchOverlayActivators.attr("aria-expanded",!1),this.$lastFocusedActivator.focus(),s.Mu.prototype.removeTrapFocus(g.$searchOverlay.get(0)),this.nodes.$searchInput.val(""),this.showEmptyState())},T.prototype.initReviewModal=function(){this.$nodes.reviewForm.load(this.$nodes.reviewURL,this.initReviewModalComplete)},T.prototype.initReviewModalComplete=function(){this.marketingAssetsModal()},T.prototype.marketingAssetsModal=function(){new s.u_(this.$nodes.reviewLink,this._getModalMarkup).on("opened",(function(){new k(r()(".login-form"))}))},T.prototype._getModalMarkup=function(e){return this.$nodes.reviewForm.html()},S.prototype.findReviewElement=function(){var e=this.$nodes.reviewWrapper;this.$nodes.replyLinks.each((function(t,n){var s=e.find("#ReviewReplyForm-"+t);S.prototype.initModals(s,n)}))},S.prototype.initModals=function(e,t){e.load(t.href,(function(){new s.u_(t,(function(){return e.html()}))}))};var C=n("../caches/app/node_modules/lodash/lodash.js"),F=n.n(C);const E="data-initial-handle",A="data-handle",$="data-ui-color-light",P="data-state";function j(e){this.$nodes={themeScreenshotCarousel:r()(`[data-theme-card-id=${e}].theme-screenshot-carousel`),linkCarousel:r()(`[data-theme-card-id=${e}].link-carousel`),themeHeroSectionBlock:r()(`[data-theme-card-id=${e}].theme-card__carousel-main-content`),carouselNav:r()(".carousel-nav"),styleSelector:r()(`[data-theme-card-id=${e}].style-selector`)},this.$nodes.themeScreenshotCarousel.length&&(this.themeScreenshotCarousel=new s.lr(this.$nodes.themeScreenshotCarousel.get(0))),this.$nodes.linkCarousel.length&&(this.linkCarousel=new s.lr(this.$nodes.linkCarousel.get(0))),this.initCarousel(),this.$nodes.styleSelector.on("click",this.updateSlideContent.bind(this)),this.$nodes.styleSelector.attr("href","")}j.prototype.initCarousel=function(){const e=this.$nodes.themeHeroSectionBlock.attr(E);var t=this.$nodes.carouselNav.find("["+A+'="'+e+'"]'),n=parseInt(t.attr(P),10),s="carousel--is-loading";this.themeScreenshotCarousel.goToIndex(n),this.linkCarousel.goToIndex(n),this.$nodes.themeScreenshotCarousel.removeClass(s),this.$nodes.linkCarousel.removeClass(s)},j.prototype.updateSlideContent=function(e){e.preventDefault();var t=r()(e.currentTarget),n=t.attr($),s=parseInt(t.attr(P),10);this.$nodes.styleSelector.each((function(){r()(this).removeAttr("aria-selected")})),t.attr("aria-selected","true"),this.themeScreenshotCarousel.goToIndex(s),this.linkCarousel.goToIndex(s),this.updateBackgroundColor(n)},j.prototype.updateBackgroundColor=function(e){this.$nodes.themeHeroSectionBlock.css("background-color",e)};const q=class{constructor(e){this.carousel=void 0,this.carousel=new j(e)}};var I='<div class="block"><h3 class="block__heading heading--4">'+s.ag.t("theme_store_frontend.theme_filters.no_results_now",{defaults:[{message:"No results row"}]})+'</h3><p class="block__content"><p>'+s.ag.t("theme_store_frontend.theme_filters.try_again_or_home_page_html",{defaults:[{message:'Try again later, or <a href="/">Visit the home page</a>'}],visit_home_page:'<a href="/">'+s.ag.t("theme_store_frontend.theme_filters.visit_home_page",{defaults:[{message:"Visit the home page"}]})+"</a>"})+"</p></div>",M="filter-expanded",R="filter-param",O="filter-value",L=".theme-filter__count",z=".theme-filter__element",D="applied-filters__filter--is-visible",B="applied-filters--is-hidden",N={$filters:r()("[data-filter]"),$filtersWrapper:r()(".theme-filter__wrapper"),$appliedFilters:r()(".applied-filters__filter"),$clearAppliedFilters:r()(".applied-filters__remove-all"),$appliedFiltersWrapper:r()(".applied-filters"),$searchButton:r()(".theme-search-overlay__activator"),$searchForm:r()('[name="q"]').closest("form"),$searchTrigger:r()(".search-trigger"),$sortBy:r()("#SortBy"),$themesContainer:r()("#Themes"),$themesTotal:r()(".filtered-themes-total")};function V(){this.initialize=F().bind(this.initialize,this),this.displayErrorMessage=F().bind(this.displayErrorMessage,this),this.fetchThemes=F().bind(this.fetchThemes,this),this.hideAppliedFilter=F().bind(this.hideAppliedFilter,this),this.openSearch=F().bind(this.openSearch,this),this.pushState=F().bind(this.pushState,this),this.removeAllFilters=F().bind(this.removeAllFilters,this),this.removeFilter=F().bind(this.removeFilter,this),this.renderThemes=F().bind(this.renderThemes,this),this.showAppliedFilter=F().bind(this.showAppliedFilter,this),this.updateAppliedFilter=F().bind(this.updateAppliedFilter,this),this.updateCounts=F().bind(this.updateCounts,this),this.updateFilter=F().bind(this.updateFilter,this),this.updateFilteredBy=F().bind(this.updateFilteredBy,this),this.updateFilteredByVisibility=F().bind(this.updateFilteredByVisibility,this),this.updateState=F().bind(this.updateState,this),this.updateThemes=F().bind(this.updateThemes,this),this.updateThemesTotal=F().bind(this.updateThemesTotal,this),N.$filtersWrapper.length&&(this.filterAccordion=new s.UQ(N.$filtersWrapper.get(0),{mobileOnly:!1,openFirst:!1,itemSelector:".accordion-item"})),this.initialize(),N.$sortBy.on("change",this.updateThemes),N.$filters.on("change",":checkbox",this.updateThemes),N.$appliedFilters.on("click",this.removeFilter),N.$clearAppliedFilters.on("click",this.removeAllFilters),N.$searchTrigger.on("click",this.openSearch),window.addEventListener("popstate",this.updateState)}V.prototype.initialize=function(){this.filterAccordion&&this.filterAccordion.$accordionItems.forEach((e=>{"true"===e.$el.getAttribute(`data-${M}`)&&e.open(0)}))},V.prototype.displayErrorMessage=function(){N.$themesTotal.empty(),N.$themesContainer.hide().html(I).fadeIn("fast")},V.prototype.fetchThemes=function(){var e=location.href;r().ajax({url:e,dataType:"html",data:{ajax:!0},success:this.renderThemes,error:this.displayErrorMessage,skipHeaderOverride:!0})},V.prototype.openSearch=function(e){return e.preventDefault(),N.$searchButton.trigger("click"),!1},V.prototype.pushState=function(e){var t={},n=getURLParameter("q");F().isString(n)&&(t.q=n),t.sort_by=N.$sortBy.val(),N.$filters.each((function(e,n){var s=r()(n);if("industry"!==s.data(R)){var i=s.find(":checkbox:checked");t[s.data(R)]=i.map((function(){return r()(this).val()})).get()}}));var s=new URLSearchParams(window.location.search).getAll("industry[]");if(e&&"industry"===e.action&&e.value){var i=e.value;t.industry=s.includes(i)?s.filter((e=>e!==i)):[i].concat(s)}else t.industry=s;var a=location.pathname,o=r().param(t);o.length&&(a+="?"+o),history.pushState(t,null,a)},V.prototype.removeAllFilters=function(){N.$filters.find(":checkbox").prop("checked",!1),N.$appliedFilters.removeClass(D),this.updateFilteredByVisibility(),this.updateThemes()},V.prototype.removeFilter=function(e){var t=r()(e.currentTarget),n=t.data(O);this.hideAppliedFilter(t),N.$filters.find(':checkbox:checked[value="'+n+'"]').prop("checked",!1).trigger("change")},V.prototype.renderThemes=function(e){N.$themesContainer.hide().html(e).fadeIn("fast");var t=r()("#ThemesInner").data("aggregations");F().isObject(t)&&N.$filters.each(this.updateCounts);var n=r()("#ThemesInner").data("pagination-parts");N.$themesTotal.length&&F().isObject(n)&&this.updateThemesTotal();document.querySelectorAll(".theme-card-presets-selector").forEach((e=>new q(e.id)))},V.prototype.updateAppliedFilter=function(e,t){var n=r()(t),s=n.val(),i=N.$appliedFilters.filter((function(e,t){return r()(t).data(O)===s}));n.is(":checked")?this.showAppliedFilter(i):this.hideAppliedFilter(i),this.updateFilteredByVisibility()},V.prototype.updateCounts=function(e,t){var n=r()(t),s=n.data(R),i=r()("#ThemesInner").data("aggregations")[s];n.find(":checkbox").each((function(){var e=r()(this),t=e.val();e.parent(z).find(L).text(i[t]);var n=e.is(":not(:checked)")&&0==i[t];e.prop("disabled",n)}))},V.prototype.updateFilter=function(e,t){var n=r()(t),s=n.val(),i=N.$appliedFilters.filter('[data-filter-value="'+s+'"]');-1!==r().inArray(s,this.checkedValues)?(n.prop("checked",!0),this.showAppliedFilter(i)):(n.prop("checked",!1),this.hideAppliedFilter(i))},V.prototype.hideAppliedFilter=function(e){e.removeClass(D)},V.prototype.showAppliedFilter=function(e){e.addClass(D)},V.prototype.updateFilteredBy=function(){N.$filters.find(":checkbox").each(this.updateAppliedFilter),this.updateFilteredByVisibility()},V.prototype.updateFilteredByVisibility=function(){N.$filters.find(":checkbox:checked").length?N.$appliedFiltersWrapper.slideDown("fast").removeClass(B):N.$appliedFiltersWrapper.slideUp("fast").addClass(B)},V.prototype.updateState=function(e){var t=e.state||{};F().isString(t.sort_by)&&N.$sortBy.val(t.sort_by),this.checkedValues=F().flatten(F().values(t)),N.$filters.find(":checkbox").each(this.updateFilter),this.updateFilteredByVisibility(),this.fetchThemes()},V.prototype.updateThemes=function(e){var t={};if(e){var n=r()(e.currentTarget).data(),i=e.currentTarget.value;s.co.track(n.filterGaEvent,n.filterGaAction,i),t.action=n.filterGaAction,t.value=i}this.pushState(t),this.updateFilteredBy(),this.fetchThemes()},V.prototype.updateThemesTotal=function(){var e=r()("#ThemesInner").data("pagination-parts"),t=e.first_item_index,n=e.last_item_index,i=e.total_pages,a=e.total,o="",l=s.ag.t("theme_store_frontend.theme_filters.themes_count",{count:a});o+=1===i?l:s.ag.t("theme_store_frontend.theme_filters.pagination",{first_item_index:t,last_item_index:n,themes_count:l}),N.$themesTotal.text(o)};var U=!1,W="ui-sheet--is-open",H="page--sheet-is-open",G={$window:r()(window),$html:r()("html"),$body:r()("body"),$activator:r()('[data-module="ui-sheet-activator"]'),$deactivator:r()('[data-module="ui-sheet-deactivator"]')};function K(e,t){e.length&&e instanceof r()&&(this.options=t,this.nodes={$sheet:e,$sheetBody:e.find('[data-module="ui-sheet-body"]')},this.breakpoints=new s.u3,G.$window.on("resize",this.moveContent.bind(this)),G.$activator.on("click",this.openSheet.bind(this)).on("click",this.moveContent.bind(this)),G.$deactivator.on("click",this.closeSheet.bind(this)))}K.prototype.openSheet=function(){G.$body.addClass(H),this.nodes.$sheet.addClass(W),s.Mu.prototype.trapFocus(this.nodes.$sheet.get(0))},K.prototype.closeSheet=function(){G.$body.removeClass(H),this.nodes.$sheet.removeClass(W),s.Mu.prototype.removeTrapFocus(this.nodes.$sheet.get(0))},K.prototype.moveContent=(0,s.Ds)((function(e){if(window.matchMedia(this.breakpoints.phone).matches){if(U)return;r().each(this.options.$contentNodes,function(e,t){var n=r()("<div/>",{class:"placeholder-"+e});t.parent().append(n),t.appendTo(this.nodes.$sheetBody)}.bind(this)),U=!0}else r().each(this.options.$contentNodes,function(e,t){var n=r()(".placeholder-"+e);t.insertAfter(n),n.remove()}.bind(this)),U=!1,this.closeSheet()}),100);var Q,J,Y,Z,X="data-initial-handle",ee="data-handle",te="data-ui-color-light",ne="data-state",se="data-demo-url",ie="data-style-name",re="data-style-slug",ae="data-theme-name",oe="data-js-theme-action",le=r()(".section-block--theme-hero, .theme-listing__hero-banner-main-content").attr(X);function de(){this.$nodes={mobileCarousel:r()(".mobile-carousel"),tabletUpCarousel:r()(".tablet-up-carousel"),previewLinks:r()(".theme-preview-link"),themeHeroSectionBlock:r()(".section-block--theme-hero, .theme-listing__hero-banner-main-content"),primaryButton:r()(".theme-primary-cta"),secondaryButton:r()(".theme-secondary-cta"),carouselNav:r()(".mobile-carousel-nav"),styleSelector:r()(".style-selector"),demoOverlayLinks:r()(".demo-overlay")},this.$nodes.mobileCarousel.length&&(this.mobileCarousel=new s.lr(this.$nodes.mobileCarousel.get(0))),this.$nodes.tabletUpCarousel.length&&(this.tabletUpCarousel=new s.lr(this.$nodes.tabletUpCarousel.get(0))),this.initCarousel(),r()(window).on("popstate",{evt:window.event},this.updateActiveButton.bind(this)),this.$nodes.styleSelector.on("click",this.updateSlideContent.bind(this))}function ce(){const e=document.querySelector(".home-carousel"),t=document.querySelector(".home-carousel__container"),n=document.querySelectorAll(".home-carousel__current-index");e&&(new s.lr(e,{carouselPrevNavItem:".home-carousel__navigation--desktop .carousel-arrow-left",carouselNextNavItem:".home-carousel__navigation--desktop .carousel-arrow-right"}),new s.lr(e,{carouselPrevNavItem:".home-carousel__navigation--mobile .carousel-arrow-left",carouselNextNavItem:".home-carousel__navigation--mobile .carousel-arrow-right"}),e.addEventListener("slide-change",(function(e){const s=e.detail+1,i=e.target.querySelector(`[data-index="${s}"]`).getAttribute("data-ui-color-light");t.style.backgroundColor=i,n.forEach((e=>{e.textContent=s}))})))}function ue(){this.$nodes={body:r()(document.body),themeForm:r()(".theme-form"),submitTheme:r()(".submit-theme"),addTranslation:r()("#AddNewTranslation")},this.onValidateSuccess=F().bind(this.onValidateSuccess,this),this.onValidateFail=F().bind(this.onValidateFail,this),this.addTranslation=F().bind(this.addTranslation,this),this.templateSettings={interpolate:/\{\{(.+?)\}\}/g},this.$nodes.addTranslation.on("click",this.addTranslation),this.validate()}function he(){this.$nodes={installingTheme:r()("#InstallingTheme"),progressBar:r()(".progress-bar"),installingDemo:r()("#InstallingDemo")},this.progressComplete=F().bind(this.progressComplete,this),this.progressBar(),this.installingDemo()}de.prototype.initCarousel=function(){var e=this.$nodes.carouselNav.find("["+ee+'="'+le+'"]'),t=parseInt(e.attr(ne),10),n="carousel--is-loading";this.mobileCarousel.goToIndex(t),this.tabletUpCarousel.goToIndex(t),this.$nodes.mobileCarousel.removeClass(n),this.$nodes.tabletUpCarousel.removeClass(n)},de.prototype.updateSlideContent=function(e,t){e.preventDefault();var n=r()(e.currentTarget),s=n.attr(te),i=parseInt(n.attr(ne),10),a=n.attr(ee),o=n.attr(se),l=n.attr(ie),d=n.attr(re),c=n.attr(ae),u=window.location.search;this.tabletUpCarousel.goToIndex(i),this.mobileCarousel.goToIndex(i),t||Q!=a&&(Q=a,this.updateUrl(a+u)),this.updateTitle(l,c),this.updateCtaUrls(d),this.updateBackgroundColor(s),this.updatePreviewLinks(o)},de.prototype.updateActiveButton=function(e){var t=e.originalEvent.state;this.$nodes.mobileCarousel.find("["+ee+'="'+t+'"]').trigger("click",{triggeredByPopState:!0})},de.prototype.updateUrl=function(e){history.replaceState(e,null,e)},de.prototype.updateTitle=function(e,t){document.title=s.ag.t("theme_store_frontend.styles_carousel.title",{themeName:t,styleName:e})},de.prototype.updatePreviewLinks=function(){this.$nodes.previewLinks.each((function(){var e=window.location,t=e.search,n=e.origin+e.pathname+"/preview"+t;r()(this).attr("href",n)}))},de.prototype.updateBackgroundColor=function(e){this.$nodes.themeHeroSectionBlock.css("background-color",e)},de.prototype.updateCtaUrls=function(e){var t=window.location,n=t.origin+t.pathname,s=t.search,i=this.$nodes.primaryButton.attr(oe),r=n+"/"+i+"?theme_install_intent="+e+s.split("?")[1],a=n+"/"+i+s,o=n+"/download"+s;e&&"download"==i?this.$nodes.primaryButton.attr("href",r):this.$nodes.primaryButton.attr("href",a),this.$nodes.secondaryButton.attr("href",o)},ue.prototype.addTranslation=function(){if(this.$nodes.addTranslation.length){var e=r()("#new-translation-template"),t=r()("#new-translation-select option:selected"),n={translations_index:r()("input.translation-checkbox").length,language_code:t.attr("value"),language_name:t.text()},s=F().template(e.text(),n,this.templateSettings);r()(s).insertBefore(e),t.remove()}},ue.prototype.validate=function(){this.$nodes.themeForm.length&&this.$nodes.themeForm.validationEngine({success:this.onValidateSuccess,failure:this.onValidateFail})},ue.prototype.onValidateSuccess=function(){this.$nodes.submitTheme.html('<span class="spinner" aria-hidden="true"></span>'),this.$nodes.themeForm.submit()},ue.prototype.onValidateFail=function(){},he.prototype.progressBar=function(){this.$nodes.progressBar.length&&this.$nodes.progressBar.animate({width:"100%"},{duration:4e3,step:function(e){var t=Math.round(e);r()(this).html(t+"%").attr("aria-valuenow",t)},complete:this.progressComplete})},he.prototype.progressComplete=function(){location.href=this.$nodes.installingTheme.data("redirect-url")},he.prototype.installingDemo=function(){if(this.$nodes.installingDemo.length){var e=this,t=function(s){var i=e.$nodes.installingDemo.data("theme-id");r().getJSON("/utilities/fetch_installed_theme.json",{theme_id:i}).done((function(e){if(e.name){s()}else setTimeout((function(){t(n)}),800)})).fail((function(e){422==e.status?location.href=location.href.replace("/demo/installing","/reached_theme_limit"):location.href="/500"}))},n=function(){r().getJSON("/utilities/retrieve_store_admin_url.json").done((function(e){location.href=e.preview_url})).fail((function(e){location.href="/500"}))};t(n)}};class pe{constructor(){if(this.nodes=void 0,this.nodes={$previewFrameContainer:document.querySelector("#PreviewFrameContainer"),$desktopPreview:document.querySelector("#DesktopPreview"),$mobilePreview:document.querySelector("#MobilePreview"),$deviceSelectors:document.querySelectorAll(".device-preview-controls__toggle"),$styleSelectors:document.querySelectorAll(".device-preview__selector")},!this.nodes.$previewFrameContainer||!this.nodes.$desktopPreview||!this.nodes.$mobilePreview)return;const e={maxWidth:"360px",maxHeight:"800px"},t={maxWidth:"100%",maxHeight:"100%"};this.nodes.$desktopPreview.addEventListener("click",(e=>this.setFrameSize(e,t))),this.nodes.$mobilePreview.addEventListener("click",(t=>this.setFrameSize(t,e))),/[?&]mobile/.test(location.href)&&!document.querySelector("html").classList.contains("touch")&&this.nodes.$mobilePreview.click()}setFrameSize(e,t){e.preventDefault(),this.nodes.$deviceSelectors.forEach((e=>e.classList.remove("active")));const n=e.target;n&&(n.classList.add("active"),this.nodes.$previewFrameContainer.style.maxWidth=t.maxWidth,this.nodes.$previewFrameContainer.style.maxHeight=t.maxHeight,this.updateURL(n))}updateURL(e){if("MobilePreview"===e.id)window.location.href.includes("?mobile=true")||history.replaceState(null,"",window.location.href+"?mobile=true"),this.addQueryToDeviceSelectors();else{const e=window.location.href.split("?mobile=true");history.replaceState(null,"",e[0]),this.removeQueryToDeviceSelectors()}}addQueryToDeviceSelectors(){this.nodes.$styleSelectors.forEach((e=>{e.href.includes("?mobile=true")||(e.href+="?mobile=true")}))}removeQueryToDeviceSelectors(){this.nodes.$styleSelectors.forEach((e=>{e.href=e.href.replace("?mobile=true","")}))}}!function(e){e.Left="ArrowLeft",e.Right="ArrowRight"}(J||(J={})),function(e){e.Home="Home",e.End="End"}(Y||(Y={})),function(e){e.Click="click",e.Keyup="keyup",e.Keydown="keydown"}(Z||(Z={}));const me=class{constructor(e){this.container=void 0,this.tablist=void 0,this.tabs=void 0,this.panels=void 0,this.shortcuts=void 0,this.mobileTabs=void 0,this.activateTab=e=>{e.removeAttribute("tabindex"),e.setAttribute("aria-selected","true");const t=e.getAttribute("aria-controls")||"";document.getElementById(t)?.removeAttribute("hidden")},this.deactivateTabs=()=>{this.tabs?.forEach((e=>this.deselectTab(e))),this.panels?.forEach((e=>this.hidePanel(e)))},this.resetTabs=()=>{this.deactivateTabs(),this.activateTab(this.tabs[0])},this.updateTabs=e=>{this.deactivateTabs(),this.activateTab(e)},this.deselectTab=e=>{e.setAttribute("tabindex","-1"),e.setAttribute("aria-selected","false")},this.hidePanel=e=>{e.setAttribute("hidden","true")},this.onCollapseButtonClick=e=>{const t=e.target,n=document.getElementById(t.getAttribute("aria-controls")||"");n&&(this.scrollOnMobileTabCollapse(n),this.mobileTabs.toggle(n),this.resetTabs())},this.onClick=e=>{const t=e.target;this.updateTabs(t),this.mobileTabs&&this.updateMobileTabs(t)},this.onShortcutClick=e=>{this.deactivateTabs();const t=this.container.querySelector(`[aria-controls=${e}]`);t&&this.activateTab(t)},this.onKeyup=e=>{const{target:t,key:n}=e;Object.values(J).includes(n)&&(e.preventDefault(),this.switchTabOnKeyPress(t,n))},this.onKeydown=e=>{const t=e.key;if(Object.values(Y).includes(t))switch(e.preventDefault(),t){case Y.Home:this.focusFirstTab();break;case Y.End:this.focusLastTab()}},this.switchTabOnKeyPress=(e,t)=>{const n=Array.from(this.tabs).indexOf(e);if(n>=0)switch(t){case J.Right:this.focusNextTab(n+1);break;case J.Left:this.focusPreviousTab(n-1)}},this.focusNextTab=e=>{e<=this.tabs.length-1?this.tabs[e].focus():this.focusFirstTab()},this.focusPreviousTab=e=>{e<0?this.focusLastTab():this.tabs[e].focus()},this.focusFirstTab=()=>{this.tabs[0].focus()},this.focusLastTab=()=>{this.tabs[this.tabs.length-1].focus()},this.onMobileTabClick=e=>{const t=e.target.closest(".accordion-item"),n=t?.id,s=!t.classList.contains("js-is-active");if(this.mobileTabs.toggleAll(`.accordion-item.js-is-active:not(#${n})`),s)this.scrollOnMobileTabCollapse(t),this.resetTabs();else{this.scrollMobileTabIntoView(t);const e=document.querySelector(`[aria-controls="${n?.replace("--MobileTabs","")}"]`);this.updateTabs(e)}},this.updateMobileTabs=e=>{this.mobileTabs.$accordionItems.map((e=>e.$el)).forEach((e=>{e.classList.contains("js-is-active")&&this.mobileTabs.toggle(e)}));const t=document.getElementById(`${e.getAttribute("aria-controls")}--MobileTabs`);this.mobileTabs?.toggle(t)},this.scrollOnMobileTabCollapse=e=>{this.scrollMobileTabIntoView(e?.querySelector(".mobile-tabs__toggle"),{block:"end",inline:"nearest",behavior:"smooth"})},this.scrollMobileTabIntoView=(e,t)=>{const n=t||{};e.scrollIntoView({block:"start",...n})},this.container=e,this.tablist=e.querySelector('[role="tablist"]'),this.tabs=e.querySelectorAll('[role="tab"]')||[],this.panels=e.querySelectorAll('[role="tabpanel"]')||[],this.shortcuts=e.querySelectorAll("[data-tab-shortcut]")||[];const t=e.getAttribute("data-mobile-tabs"),n=t?document.getElementById(t):null;if(this.mobileTabs=n?new s.UQ(n,{itemSelector:".mobile-tabs__item",itemLink:".mobile-tabs__toggle",itemContent:".mobile-tabs__content",mobileOnly:!1,openFirst:!0}):null,this.tabs.forEach((e=>{e.addEventListener(Z.Click,this.onClick),e.addEventListener(Z.Keyup,(e=>this.onKeyup(e))),e.addEventListener(Z.Keydown,(e=>this.onKeydown(e)))})),this.shortcuts.forEach((e=>{e.addEventListener(Z.Click,(()=>{const t=e.getAttribute("data-tab-shortcut");t&&this.onShortcutClick(t)}))})),this.mobileTabs){const e=this.mobileTabs.$accordionItems.map((e=>e.$el)),t=this.mobileTabs.$el.querySelectorAll(".mobile-tabs__toggle--collapse");e.forEach((e=>e.addEventListener(Z.Click,this.onMobileTabClick))),t.forEach((e=>e.addEventListener(Z.Click,this.onCollapseButtonClick)))}}};const fe=class{constructor(e){this.showButton=void 0,this.hideButton=void 0,this.content=void 0,this.createShowButton=()=>{const e=document.createElement("a");return e.appendChild(document.createTextNode(s.ag.t("theme_store_frontend.show_button_text"))),e.className="toggle see-update-details",e.setAttribute("href","#"),e.addEventListener("click",(e=>{e.preventDefault(),this.showButton.style.setProperty("display","none"),this.content.style.setProperty("display","block")})),e},this.createHideButton=()=>{const e=document.createElement("a");return e.appendChild(document.createTextNode(s.ag.t("theme_store_frontend.hide_button_text"))),e.className="toggle show-less",e.setAttribute("href","#"),e.addEventListener("click",(e=>{e.preventDefault(),this.showButton.style.setProperty("display","block"),this.content.style.setProperty("display","none")})),e},this.content=e,this.showButton=this.createShowButton(),this.hideButton=this.createHideButton();e.parentElement?.insertBefore(this.showButton,e),e.append(this.hideButton)}};const ve=function(){const e=document.querySelector(".theme-listing__tabs");if(!e)return;document.querySelectorAll(".release-note .more-details").forEach((e=>{new fe(e)})),document.querySelectorAll(".release-note li").forEach((e=>{e.textContent?.match(/^Important:/)&&e.classList.add("important-release-note")}));const t=new me(e);if("#Reviews"===window.location.hash){const e=t.tablist.querySelector("#TabButton__Reviews");t.updateTabs(e),t.updateMobileTabs(e);const n=document.querySelector("#ReviewsTabContent--MobileTabs");window.scroll({top:n.offsetTop,left:0,behavior:"smooth"})}if("#ReleaseNotes"===window.location.hash){const e=t.tablist.querySelector("#TabButton__Support");t.updateTabs(e),t.updateMobileTabs(e);const n=document.querySelector("#SupportTabContent--MobileTabs");window.scroll({top:n.offsetTop,left:0,behavior:"smooth"})}};var ge,be;!function(e){e.Up="ArrowUp",e.Down="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown"}(ge||(ge={})),function(e){e.Enter="Enter",e.Spacebar=" "}(be||(be={}));const ye=class{constructor(e,t={}){this.container=void 0,this.listboxButton=void 0,this.listboxOptions=void 0,this.popover=void 0,this.callbackFns=void 0,this.onPopoverShow=()=>{const e=this.container.querySelector("[aria-selected]");e.setAttribute("tabindex","0"),setTimeout((()=>{e.focus()}),100)},this.onKeydown=e=>{const{key:t}=e;Object.values(ge).includes(t)?(e.preventDefault(),this.focusListboxOptionWithKeyboard(e)):Object.values(be).includes(t)&&(e.preventDefault(),this.onListOptionClick(e))},this.onListOptionClick=e=>{const t=e.target,n="option"===t.getAttribute("role")?t:t.closest('[role="option"]'),s=this.container.querySelector("[aria-selected]");this.shiftFocus(s,n),this.updateSelectedOption(s,n,e),this.popover.hide()},this.focusListboxOptionWithKeyboard=e=>{const{key:t,target:n}=e;e.preventDefault();const s=Array.from(this.listboxOptions).indexOf(n);if(s>=0){const e=this.getOptionToFocus(t,s);if(!e)return;this.shiftKeyboardFocus(n,e)}},this.getOptionToFocus=(e,t)=>{switch(e){case ge.Down:case ge.PageDown:return this.listboxOptions[t+1];case ge.Up:case ge.PageUp:return this.listboxOptions[t-1];case ge.Home:return this.listboxOptions[0];case ge.End:const e=this.listboxOptions.length-1;return this.listboxOptions[e];default:return}},this.shiftKeyboardFocus=(e,t)=>{e.classList.remove("listbox__option--focus"),t.classList.add("listbox__option--focus"),this.shiftFocus(e,t)},this.shiftFocus=(e,t)=>{e.blur(),e.removeAttribute("tabindex"),t.setAttribute("tabindex","0"),t.focus(),this.container.setAttribute("aria-activedescendant",t.id)},this.updateSelectedOption=(e,t,n)=>{const s=t.getAttribute("data-option-label")||"";if(!s)return;e.removeAttribute("aria-selected"),t.setAttribute("aria-selected","true"),this.container.setAttribute("aria-activedescendant",t.id);this.listboxButton.querySelector(".listbox__selected-option-label").innerHTML=s;const i=this.callbackFns?.onSelect;i&&i(n,t)},this.onPopoverHide=()=>{this.listboxOptions.forEach((e=>{e.blur(),e.removeAttribute("tabindex"),e.classList.remove("listbox__option--focus")})),setTimeout((()=>{this.listboxButton.focus()}),100)},this.container=e,this.listboxButton=e.querySelector(".popover__trigger"),this.listboxOptions=e.querySelectorAll('[role="option"]'),this.callbackFns=t,this.listboxOptions.forEach((e=>{e.addEventListener("click",this.onListOptionClick),e.addEventListener("keydown",this.onKeydown)})),this.popover=new s.J2(e,{onShow:this.onPopoverShow,onHide:this.onPopoverHide})}};class xe{constructor(e,t,n){this.carousel=void 0,this.listbox=void 0,this.onSelectProp=void 0,this.onSelect=(e,t)=>{this.updateExamplePresetsHexCode(t),this.carousel&&this.carousel.updateSlideContent(e),this.onSelectProp&&this.onSelectProp(e,t)},this.updateExamplePresetsHexCode=e=>{const t=e.getAttribute("data-example-presets-hex-code");this.listbox.listboxButton.setAttribute("style",`--palette-hex-code: ${t}`)},this.listbox=new ye(e,{onSelect:this.onSelect}),t&&(this.carousel=new de),this.onSelectProp=n}}const we="theme-listing__lightbox-content";const _e=function(){document.querySelectorAll(".theme-listing__highlight-overlay").forEach((e=>function(e){const t=e.getAttribute("data-lightbox-media"),n=e.getAttribute("data-lightbox-media-title")||"",i=e.getAttribute("data-lightbox-media-desc")||"";if(!t)return;const r=t.includes("youtube"),a=["theme-listing__lightbox-content-container modal-container--lowlight",...r?["theme-listing__lightbox-content-container--video"]:["theme-listing__lightbox-content-container--image"]],o=r?function(e,t){const n=document.createElement("iframe");return n.setAttribute("src",e),n.setAttribute("title",t),n.setAttribute("allowfullscreen","true"),n.setAttribute("frameborder","0"),n.classList.add(we),n}(t,n):function(e,t,n){const s=document.createElement("figure"),i=document.createElement("img"),r=document.createElement("figcaption");return i.setAttribute("src",e),i.setAttribute("alt",t),r.innerText=n,r.classList.add("visuallyhidden"),s.classList.add(we),s.appendChild(i),s.appendChild(r),s}(t,n,i);return new s.u_(e,(()=>o),{modalStyleModifierClasses:{container:a.join(" "),closeIcon:"icon-modules-close-white"}})}(e)))};var ke=n("./app/ui/utilities/bugsnag.ts"),Te=n("../caches/app/node_modules/@bugsnag/browser/dist/bugsnag.js"),Se=n.n(Te);const Ce=[{urlKey:"surface_type",monorailKey:"surfaceType",type:"string"},{urlKey:"surface_detail",monorailKey:"surfaceDetail",type:"string"},{urlKey:"surface_inter_position",monorailKey:"surfaceInterPosition",type:"number"},{urlKey:"surface_intra_position",monorailKey:"surfaceIntraPosition",type:"number"}],Fe=[{urlKey:"utm_source",monorailKey:"utmSource",type:"string"},{urlKey:"utm_medium",monorailKey:"utmMedium",type:"string"},{urlKey:"utm_campaign",monorailKey:"utmCampaign",type:"string"},{urlKey:"utm_term",monorailKey:"utmTerm",type:"string"},{urlKey:"utm_content",monorailKey:"utmContent",type:"string"}],Ee=[{urlKey:"st_source",monorailKey:"stSource",type:"string"},{urlKey:"st_campaign",monorailKey:"stCampaign",type:"string"}];function Ae(e){const t=document?.cookie.split("; "),n=t.find((t=>t?.startsWith(e)));return n?n.split("=")[1]:""}function $e(e){return new URL(window.location.href).searchParams.get(e)??void 0}function Pe(e){return new URL(window.location.href).searchParams.getAll(e)}function je(e,t){return e.getAttribute(t)??void 0}function qe(e,t){const n=je(e,t);if(void 0!==n&&""!==n)return parseInt(n)}function Ie(){return ze(Fe)}function Me(){return ze(Ee)}function Re(e){return{userToken:Ae("_shopify_y"),sessionToken:Ae("_shopify_s"),shopId:qe(e,"data-shop-id"),referrer:document.referrer,userAgent:navigator.userAgent,locale:$e("locale")||navigator.language,pageUrl:window.location.href,pageviewId:Le()}}function Oe(e){if(!e)return null;try{return JSON.parse(e)}catch(t){return null}}function Le(){try{return window.trekkie.trekkie.defaultAttributes.microSessionId}catch(e){return function(e){Se().notify(e)}(e),""}}function ze(e){const t={};for(const n of e){let e=$e(n.urlKey);void 0!==e&&""!==e.trim()&&"number"===n.type?t[n.monorailKey]=parseInt(e):t[n.monorailKey]=e||void 0}return t}function De(e){const t=Oe(je(e,"data-theme-filters"))||[],n={};return t.forEach((e=>{const t=Pe(e+"[]"),s=Pe(e),i=new Set([...t,...s]);i.size>0&&(n[e]=[...i])})),JSON.stringify(n)}const Be=["#AddTheme","#MobileAddTheme",".theme-preview-link"],Ne=["surface_type","surface_detail","surface_inter_position","surface_intra_position"];function Ve(){Be.forEach((e=>{document.querySelectorAll(e).forEach((e=>{e.href&&(e.href=function(e){const t=new URL(e),n=t.searchParams;return n.forEach(((e,t)=>{if(Ne.includes(t)){const e=$e(t);e&&n.set(t,e)}})),t.href}(e.href))}))}))}const Ue="marketing-nav--theme-listing--hide",We="marketing-nav--theme-listing--show",He=[".mobile-sticky-footer--wrapper"],Ge=e=>{const t=e.offsetHeight;let n=0;window.addEventListener("scroll",(()=>{const s=window.pageYOffset||document.documentElement.scrollTop,i=n+t,r=n-t;s>i?(e=>{e.classList.remove(We),e.classList.add(Ue)})(e):s<r&&(e=>{e.classList.remove(Ue),e.classList.add(We)})(e),(s>i||s<r)&&(n=s<=0?0:s)}))},Ke=()=>{const e=document.querySelector(".marketing-nav--theme-listing");if(!e)return;new IntersectionObserver((([e])=>e.target.classList.toggle("marketing-nav-pinned",e.intersectionRatio<1)),{threshold:[1]}).observe(e),(()=>{for(const e of He)if(document.querySelector(e))return!0;return!1})()&&Ge(e)},Qe="mobile-sticky-footer--hide",Je="mobile-sticky-footer--show",Ye=document.querySelector(".mobile-sticky-footer--wrapper"),Ze=e=>{if(e&&Ye){const t=Ye.offsetHeight;let n=!1,s=0;new IntersectionObserver((([e])=>{n=e.isIntersecting}),{threshold:[.5]}).observe(e),window.addEventListener("scroll",(()=>{const e=window.pageYOffset||document.documentElement.scrollTop,i=s+t,r=s-t;e>i&&!n?(Ye.classList.remove(Qe),Ye.classList.add(Je)):(e<r||n)&&(Ye.classList.remove(Je),Ye.classList.add(Qe)),(e>i||e<r)&&(s=e<=0?0:e)}))}};const Xe=n("../caches/app/node_modules/@shopify/monorail/lib/monorail.js").hl.createHttpProducer({production:!0});function et(e){Xe.produce(e)}function tt(e,t){e?.addEventListener("click",(n=>{const s=n?.target,i=n.path?.find((e=>st(e.id)));if(st(s.id)||i){const n=i?i.id:s.id;et({schemaId:"theme_store_element_click/1.0",payload:nt(e,t,n)})}}))}function nt(e,t,n){return{userToken:Ae("_shopify_y"),sessionToken:Ae("_shopify_s"),shopId:qe(e,"data-shop-id"),pageUrl:window.location.href,pageType:t,element:n,locale:$e("locale")||navigator.language,clientIp:void 0,userAgent:navigator.userAgent}}function st(e){return e.startsWith("ThemeCard")}const it=["UnlimitedFreeTrialLink","TabButton","MobileTabButton","ExamplePresetsSelection","ImageHighlight","VideoHighlight","OnlineStoreBlurbCta","ReviewLink","GetSupportLink","ReadDocumentationLink","SupportEmailLink","MobileThemeListingSecondaryCTA"];function rt(e,t){return{userToken:Ae("_shopify_y"),sessionToken:Ae("_shopify_s"),shopId:qe(e,"data-shop-id"),themeId:qe(e,"data-theme-id"),clickIdentifier:t,locale:navigator.language,clientIp:je(e,"data-client-ip"),userAgent:navigator.userAgent}}function at(e){return it.some((t=>e.startsWith(t)))}function ot(e){e&&et({schemaId:"theme_store_surface_impression/4.0",payload:lt(e)})}function lt(e){const t=je(e,"data-theme-ids");return{filters:De(e),surfaceType:je(e,"data-surface-type"),surfaceDetail:je(e,"data-surface-detail"),surfaceInterPosition:qe(e,"data-surface-inter-position"),themeIds:Oe(t)||[],...Re(e),...Ie(),...Me()}}function dt(e){return{themeId:qe(e,"data-theme-id"),searchFilters:De(e),styleId:qe(e,"data-style-id"),...Re(e),...ze(Ce),...Ie(),...Me()}}function ct(e){return{filters:je(e,"data-search-filters"),surfaceType:je(e,"data-surface-type"),surfaceDetail:je(e,"data-surface-detail"),surfaceInterPosition:qe(e,"data-surface-inter-position"),...ut(e),...Re(e),...Ie(),...Me()}}function ut(e){return{themeIds:Oe(e.getAttribute("data-theme-ids"))||[]}}function ht(e,t){et({schemaId:"theme_store_surface_impression/4.0",payload:pt(e,t)})}function pt(e,t){return{themeIds:e.themeIds,...Re(t),...mt(e),...Ie(),...Me()}}function mt(e){return{surfaceType:e.surfaceType,surfaceDetail:e.surfaceDetail,surfaceInterPosition:e.surfaceInterPosition}}function ft(){const e=function(){const e=document.querySelector("#theme-search-results"),t=document.querySelector("#theme-search-no-results");return e||t}();var t;e&&(et({schemaId:"theme_store_search_impression/4.0",payload:(t=e,{totalResults:qe(t,"data-total"),page:parseInt($e("page")||"")||1,searchQuery:$e("q")||"",sortBy:$e("sort_by")||void 0,searchFilters:De(t),...gt(t),...Re(t),...Ie(),...Me()})}),et({schemaId:"theme_store_surface_impression/4.0",payload:vt(e)}))}function vt(e){return{filters:De(e),surfaceType:je(e,"data-surface-type"),surfaceDetail:je(e,"data-surface-detail"),surfaceInterPosition:qe(e,"data-surface-inter-position"),...gt(e),...Re(e),...Ie(),...Me()}}function gt(e){return{themeIds:Oe(je(e,"data-theme-ids"))||[]}}function bt(e,t){const n=t.id,s=t.getAttribute("data-variant")||void 0;return{userToken:Ae("_shopify_y"),sessionToken:Ae("_shopify_s"),shopId:qe(e,"data-shop-id"),themeId:qe(e,"data-theme-id"),locale:navigator.language,clientIp:je(e,"data-client-ip"),userAgent:navigator.userAgent,experimentName:"app_recommendations_theme_listing",experimentGroup:s,clickIdentifier:n}}window.ThemeStore=window.ThemeStore||{},(0,ke.q)(),window.addEventListener("load",(function(){const e=document.querySelector(".theme-listing-page");n=e,n?.addEventListener("click",(e=>{const t=e?.target,s=t.parentNode;if(at(t.id)||at(s.id)){const e=at(s.id)?s.id:t.id;et({schemaId:"theme_store_listing_click/1.0",payload:rt(n,e)})}})),t=e,t&&et({schemaId:"theme_store_listing_view/2.0",payload:dt(t)}),function(e){if(!e)return;e.querySelectorAll("[data-app-recommendation]").forEach((t=>{t.addEventListener("click",(()=>{et({schemaId:"theme_store_listing_click/1.1",payload:bt(e,t)})}))}))}(e);var t;var n;ot(document.querySelector(".theme-listing__recommendations-grid"));ot(document.querySelector("#theme-designer-styles-data"));!function(e){e&&et({schemaId:"theme_store_surface_impression/4.0",payload:ct(e)})}(document.querySelector("#theme-collections-data"));(function(e){if(!e)return;const t=Oe(e.getAttribute("data-promoted-styles-surface-impression"));t&&ht(t,e);const n=Oe(e.getAttribute("data-featured-styles-surface-impression"));n&&ht(n,e);const s=Oe(e.getAttribute("data-collections-surface-impressions"));s&&s.forEach((t=>{ht(t,e)}))})(document.querySelector("#theme-home-data")),function(){ft();const e=document.querySelector("#Themes");if(!e)return;new MutationObserver(ft).observe(e,{childList:!0,subtree:!1,attributes:!1,characterData:!1})}();document.querySelectorAll(".theme__link").forEach((e=>tt(e)))})),document.addEventListener("DOMContentLoaded",(()=>{s.vc.set("customGoogleAnalyticsNamespace","_other"),(0,s.S1)(),new a(r()("#ExampleProducts")),new w(r()("#SearchThemes")),new k(r()(".login-form"));var e=r()("#Reviews, .theme-listing__tabpanel-aside");e.length&&(new T(e),new S(e)),r()(".section-block--theme-hero-v1").length&&r()(".carousel-nav").length?new de:new ce,r()('[data-module="theme-filters"]').length&&(new V,new K(r()('[data-module="ui-sheet"]'),{$contentNodes:[r()('[data-module="filters-sort-by-selector"]'),r()('[data-module="theme-filters"]')]})),_e();const t=document.querySelector(".js-announcement");t&&new s.I7(t),(()=>{const e=document.querySelectorAll(".example-presets-selector");if(e.length){const t=(e,t)=>{window.location.href=t.href};e.forEach((e=>{const n=e.classList.contains("with-carousel");new xe(e,n,n?void 0:t)}))}})();document.querySelectorAll(".theme-card-presets-selector").forEach((e=>new q(e.id))),Ke();const n=document.querySelector(".theme-ctas--mobile-only");n&&Ze(n),Ve(),new ue,new he,new pe,ve()}))},"./app/ui/application/vendor/jquery.sticky.js":function(e,t,n){var s,i,r;i=[n("../caches/app/node_modules/jquery/dist/jquery.js")],s=function(e){var t=Array.prototype.slice,n=Array.prototype.splice,s={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:"",widthFromWrapper:!0,responsiveWidth:!1},i=e(window),r=e(document),a=[],o=i.height(),l=function(){for(var t=i.scrollTop(),n=r.height(),s=n-o,l=t>s?s-t:0,d=0;d<a.length;d++){var c=a[d];if(t<=c.stickyWrapper.offset().top-c.topSpacing-l)null!==c.currentTop&&(c.stickyElement.css({width:"",position:"",top:""}),c.stickyElement.parent().removeClass(c.className),c.stickyElement.trigger("sticky-end",[c]),c.currentTop=null);else{var u,h=n-c.stickyElement.outerHeight()-c.topSpacing-c.bottomSpacing-t-l;h<0?h+=c.topSpacing:h=c.topSpacing,c.currentTop!=h&&(c.getWidthFrom?u=e(c.getWidthFrom).width()||null:c.widthFromWrapper&&(u=c.stickyWrapper.width()),null==u&&(u=c.stickyElement.width()),c.stickyElement.css("width",u).css("position","fixed").css("top",h),c.stickyElement.parent().addClass(c.className),null===c.currentTop?c.stickyElement.trigger("sticky-start",[c]):c.stickyElement.trigger("sticky-update",[c]),c.currentTop===c.topSpacing&&c.currentTop>h||null===c.currentTop&&h<c.topSpacing?c.stickyElement.trigger("sticky-bottom-reached",[c]):null!==c.currentTop&&h===c.topSpacing&&c.currentTop<h&&c.stickyElement.trigger("sticky-bottom-unreached",[c]),c.currentTop=h)}}},d=function(){o=i.height();for(var t=0;t<a.length;t++){var n=a[t],s=null;n.getWidthFrom?!0===n.responsiveWidth&&(s=e(n.getWidthFrom).width()):n.widthFromWrapper&&(s=n.stickyWrapper.width()),null!=s&&n.stickyElement.css("width",s)}},c={init:function(t){var n=e.extend({},s,t);return this.each((function(){var t=e(this),i=t.attr("id"),r=t.outerHeight(),o=i?i+"-"+s.wrapperClassName:s.wrapperClassName,l=e("<div></div>").attr("id",o).addClass(n.wrapperClassName);t.wrapAll(l);var d=t.parent();n.center&&d.css({width:t.outerWidth(),marginLeft:"auto",marginRight:"auto"}),"right"==t.css("float")&&t.css({float:"none"}).parent().css({float:"right"}),d.css("height",r),n.stickyElement=t,n.stickyWrapper=d,n.currentTop=null,a.push(n)}))},update:l,unstick:function(t){return this.each((function(){for(var t=this,s=e(t),i=-1,r=a.length;r-- >0;)a[r].stickyElement.get(0)===t&&(n.call(a,r,1),i=r);-1!=i&&(s.unwrap(),s.css({width:"",position:"",top:"",float:""}))}))}};window.addEventListener?(window.addEventListener("scroll",l,!1),window.addEventListener("resize",d,!1)):window.attachEvent&&(window.attachEvent("onscroll",l),window.attachEvent("onresize",d)),e.fn.sticky=function(n){return c[n]?c[n].apply(this,t.call(arguments,1)):"object"!=typeof n&&n?void e.error("Method "+n+" does not exist on jQuery.sticky"):c.init.apply(this,arguments)},e.fn.unstick=function(n){return c[n]?c[n].apply(this,t.call(arguments,1)):"object"!=typeof n&&n?void e.error("Method "+n+" does not exist on jQuery.sticky"):c.unstick.apply(this,arguments)},e((function(){setTimeout(l,0)}))},void 0===(r="function"==typeof s?s.apply(t,i):s)||(e.exports=r)},"./app/ui/application/vendor/jquery.validationEngine-en.js":function(e,t,n){var s,i,r;i=[n("../caches/app/node_modules/jquery/dist/jquery.js")],void 0===(r="function"==typeof(s=function(e){e.fn.validationEngineLanguage=function(){},e.validationEngineLanguage={newLang:function(){e.validationEngineLanguage.allRules={required:{regex:"none",alertText:"* This field is required",alertTextCheckboxMultiple:"* Please select an option",alertTextCheckboxe:"* This checkbox is required",alertTextDateRange:"* Both date range fields are required"},requiredInFunction:{func:function(e,t,n,s){return"test"==e.val()},alertText:"* Field must equal test"},dateRange:{regex:"none",alertText:"* Invalid ",alertText2:"Date Range"},dateTimeRange:{regex:"none",alertText:"* Invalid ",alertText2:"Date Time Range"},minSize:{regex:"none",alertText:"* Minimum ",alertText2:" characters required"},maxSize:{regex:"none",alertText:"* Maximum ",alertText2:" characters allowed"},groupRequired:{regex:"none",alertText:"* You must fill one of the following fields",alertTextCheckboxMultiple:"* Please select an option",alertTextCheckboxe:"* This checkbox is required"},min:{regex:"none",alertText:"* Minimum value is "},max:{regex:"none",alertText:"* Maximum value is "},past:{regex:"none",alertText:"* Date prior to "},future:{regex:"none",alertText:"* Date past "},maxCheckbox:{regex:"none",alertText:"* Maximum ",alertText2:" options allowed"},minCheckbox:{regex:"none",alertText:"* Please select ",alertText2:" options"},equals:{regex:"none",alertText:"* Fields do not match"},creditCard:{regex:"none",alertText:"* Invalid credit card number"},phone:{regex:/^([\+][0-9]{1,3}([ \.\-])?)?([\(][0-9]{1,6}[\)])?([0-9 \.\-]{1,32})(([A-Za-z \:]{1,11})?[0-9]{1,4}?)$/,alertText:"* Invalid phone number"},email:{regex:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,alertText:"* Invalid email address"},fullname:{regex:/^([a-zA-Z]+[\'\,\.\-]?[a-zA-Z ]*)+[ ]([a-zA-Z]+[\'\,\.\-]?[a-zA-Z ]+)+$/,alertText:"* Must be first and last name"},zip:{regex:/^\d{5}$|^\d{5}-\d{4}$/,alertText:"* Invalid zip format"},integer:{regex:/^[\-\+]?\d+$/,alertText:"* Not a valid integer"},number:{regex:/^[\-\+]?((([0-9]{1,3})([,][0-9]{3})*)|([0-9]+))?([\.]([0-9]+))?$/,alertText:"* Invalid floating decimal number"},date:{func:function(e){var t=new RegExp(/^(\d{4})[\/\-\.](0?[1-9]|1[012])[\/\-\.](0?[1-9]|[12][0-9]|3[01])$/).exec(e.val());if(null==t)return!1;var n=t[1],s=1*t[2],i=1*t[3],r=new Date(n,s-1,i);return r.getFullYear()==n&&r.getMonth()==s-1&&r.getDate()==i},alertText:"* Invalid date, must be in YYYY-MM-DD format"},ipv4:{regex:/^((([01]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))[.]){3}(([0-1]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))$/,alertText:"* Invalid IP address"},url:{regex:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,alertText:"* Invalid URL"},onlyNumberSp:{regex:/^[0-9\ ]+$/,alertText:"* Numbers only"},onlyLetterSp:{regex:/^[a-zA-Z\ \']+$/,alertText:"* Letters only"},onlyLetterAccentSp:{regex:/^[a-z\u00C0-\u017F\ ]+$/i,alertText:"* Letters only (accents allowed)"},onlyLetterNumber:{regex:/^[0-9a-zA-Z]+$/,alertText:"* No special characters allowed"},ajaxUserCall:{url:"ajaxValidateFieldUser",extraData:"name=eric",alertText:"* This user is already taken",alertTextLoad:"* Validating, please wait"},ajaxUserCallPhp:{url:"phpajax/ajaxValidateFieldUser.php",extraData:"name=eric",alertTextOk:"* This username is available",alertText:"* This user is already taken",alertTextLoad:"* Validating, please wait"},ajaxNameCall:{url:"ajaxValidateFieldName",alertText:"* This name is already taken",alertTextOk:"* This name is available",alertTextLoad:"* Validating, please wait"},ajaxNameCallPhp:{url:"phpajax/ajaxValidateFieldName.php",alertText:"* This name is already taken",alertTextLoad:"* Validating, please wait"},validate2fields:{alertText:"* Please input HELLO"},dateFormat:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/,alertText:"* Invalid Date"},dateTimeFormat:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/,alertText:"* Invalid Date or Date Format",alertText2:"Expected Format: ",alertText3:"mm/dd/yyyy hh:mm:ss AM|PM or ",alertText4:"yyyy-mm-dd hh:mm:ss AM|PM"},customPrice:{alertText:"* Price must greater than $100 and below $500, rounded to the nearest tenth"}}}},e.validationEngineLanguage.newLang()})?s.apply(t,i):s)||(e.exports=r)},"./app/ui/application/vendor/jquery.validationEngine.js":function(e,t,n){var s,i,r;i=[n("../caches/app/node_modules/jquery/dist/jquery.js")],s=function(e){"use strict";var t={init:function(n){var s=this;return s.data("jqv")&&null!=s.data("jqv")||(n=t._saveOptions(s,n),e(document).on("click",".formError",(function(){e(this).fadeOut(150,(function(){e(this).closest(".formError").remove()}))}))),this},attach:function(n){var s,i=this;return(s=n?t._saveOptions(i,n):i.data("jqv")).validateAttribute=i.find("[data-validation-engine*=validate]").length?"data-validation-engine":"class",s.binded&&(i.on(s.validationEventTrigger,"["+s.validateAttribute+"*=validate]:not([type=checkbox]):not([type=radio]):not(.datepicker)",t._onFieldEvent),i.on("click","["+s.validateAttribute+"*=validate][type=checkbox],["+s.validateAttribute+"*=validate][type=radio]",t._onFieldEvent),i.on(s.validationEventTrigger,"["+s.validateAttribute+"*=validate][class*=datepicker]",{delay:300},t._onFieldEvent)),s.autoPositionUpdate&&e(window).bind("resize",{noAnimation:!0,formElem:i},t.updatePromptsPosition),i.on("click","a[data-validation-engine-skip], a[class*='validate-skip'], button[data-validation-engine-skip], button[class*='validate-skip'], input[data-validation-engine-skip], input[class*='validate-skip']",t._submitButtonClick),i.removeData("jqv_submitButton"),i.on("submit",t._onSubmitEvent),this},detach:function(){var n=this,s=n.data("jqv");return n.off(s.validationEventTrigger,"["+s.validateAttribute+"*=validate]:not([type=checkbox]):not([type=radio]):not(.datepicker)",t._onFieldEvent),n.off("click","["+s.validateAttribute+"*=validate][type=checkbox],["+s.validateAttribute+"*=validate][type=radio]",t._onFieldEvent),n.off(s.validationEventTrigger,"["+s.validateAttribute+"*=validate][class*=datepicker]",t._onFieldEvent),n.off("submit",t._onSubmitEvent),n.removeData("jqv"),n.off("click","a[data-validation-engine-skip], a[class*='validate-skip'], button[data-validation-engine-skip], button[class*='validate-skip'], input[data-validation-engine-skip], input[class*='validate-skip']",t._submitButtonClick),n.removeData("jqv_submitButton"),s.autoPositionUpdate&&e(window).off("resize",t.updatePromptsPosition),this},validate:function(n){var s,i=e(this),r=null;if(i.is("form")||i.hasClass("validationEngineContainer")){if(i.hasClass("validating"))return!1;i.addClass("validating"),s=n?t._saveOptions(i,n):i.data("jqv"),r=t._validateFields(this),setTimeout((function(){i.removeClass("validating")}),100),r&&s.onSuccess?s.onSuccess():!r&&s.onFailure&&s.onFailure()}else{if(!i.is("form")&&!i.hasClass("validationEngineContainer")){var a=i.closest("form, .validationEngineContainer");return s=a.data("jqv")?a.data("jqv"):e.validationEngine.defaults,(r=t._validateField(i,s))&&s.onFieldSuccess?s.onFieldSuccess():s.onFieldFailure&&s.InvalidFields.length>0&&s.onFieldFailure(),!r}i.removeClass("validating")}return s.onValidationComplete?!!s.onValidationComplete(a,r):r},updatePromptsPosition:function(n){if(n&&this==window)var s=n.data.formElem,i=n.data.noAnimation;else s=e(this.closest("form, .validationEngineContainer"));var r=s.data("jqv");return r||(r=t._saveOptions(s,r)),s.find("["+r.validateAttribute+"*=validate]").not(":disabled").each((function(){var n=e(this);r.prettySelect&&n.is(":hidden")&&(n=s.find("#"+r.usePrefix+n.attr("id")+r.useSuffix));var a=t._getPrompt(n),o=e(a).find(".formErrorContent").html();a&&t._updatePrompt(n,e(a),o,void 0,!1,r,i)})),this},showPrompt:function(e,n,s,i){var r=this.closest("form, .validationEngineContainer").data("jqv");return r||(r=t._saveOptions(this,r)),s&&(r.promptPosition=s),r.showArrow=1==i,t._showPrompt(this,e,n,!1,r),this},hide:function(){var n=e(this).closest("form, .validationEngineContainer"),s=n.data("jqv");s||(s=t._saveOptions(n,s));var i,r=s&&s.fadeDuration?s.fadeDuration:.3;return i=n.is("form")||n.hasClass("validationEngineContainer")?"parentForm"+t._getClassName(e(n).attr("id")):t._getClassName(e(n).attr("id"))+"formError",e("."+i).fadeTo(r,0,(function(){e(this).closest(".formError").remove()})),this},hideAll:function(){var t=this.data("jqv"),n=t?t.fadeDuration:300;return e(".formError").fadeTo(n,0,(function(){e(this).closest(".formError").remove()})),this},_onFieldEvent:function(n){var s=e(this),i=s.closest("form, .validationEngineContainer"),r=i.data("jqv");r||(r=t._saveOptions(i,r)),r.eventTrigger="field",1==r.notEmpty?s.val().length>0&&window.setTimeout((function(){t._validateField(s,r)}),n.data?n.data.delay:0):window.setTimeout((function(){t._validateField(s,r)}),n.data?n.data.delay:0)},_onSubmitEvent:function(){var n=e(this),s=n.data("jqv");if(n.data("jqv_submitButton")){var i=e("#"+n.data("jqv_submitButton"));if(i&&i.length>0&&(i.hasClass("validate-skip")||"true"==i.attr("data-validation-engine-skip")))return!0}s.eventTrigger="submit";var r=t._validateFields(n);return r&&s.ajaxFormValidation?(t._validateFormWithAjax(n,s),!1):s.onValidationComplete?!!s.onValidationComplete(n,r):r},_checkAjaxStatus:function(t){var n=!0;return e.each(t.ajaxValidCache,(function(e,t){if(!t)return n=!1,!1})),n},_checkAjaxFieldStatus:function(e,t){return 1==t.ajaxValidCache[e]},_validateFields:function(n){var s=n.data("jqv"),i=!1;n.trigger("jqv.form.validating");var r=null;if(n.find("["+s.validateAttribute+"*=validate]").not(":disabled").each((function(){var a=e(this),o=[];if(e.inArray(a.attr("name"),o)<0){if((i|=t._validateField(a,s))&&null==r&&(a.is(":hidden")&&s.prettySelect?r=a=n.find("#"+s.usePrefix+t._jqSelector(a.attr("id"))+s.useSuffix):(a.data("jqv-prompt-at")instanceof jQuery?a=a.data("jqv-prompt-at"):a.data("jqv-prompt-at")&&(a=e(a.data("jqv-prompt-at"))),r=a)),s.doNotShowAllErrosOnSubmit)return!1;if(o.push(a.attr("name")),1==s.showOneMessage&&i)return!1}})),n.trigger("jqv.form.result",[i]),i){if(s.scroll){var a=r.offset().top,o=r.offset().left,l=s.promptPosition;if("string"==typeof l&&-1!=l.indexOf(":")&&(l=l.substring(0,l.indexOf(":"))),"bottomRight"!=l&&"bottomLeft"!=l){var d=t._getPrompt(r);d&&(a=d.offset().top)}if(s.scrollOffset&&(a-=s.scrollOffset),s.isOverflown){var c=e(s.overflownDIV);if(!c.length)return!1;a+=c.scrollTop()+-parseInt(c.offset().top)-5,e(s.overflownDIV).filter(":not(:animated)").animate({scrollTop:a},1100,(function(){s.focusFirstField&&r.focus()}))}else e("html, body").animate({scrollTop:a},1100,(function(){s.focusFirstField&&r.focus()})),e("html, body").animate({scrollLeft:o},1100)}else s.focusFirstField&&r.focus();return!1}return!0},_validateFormWithAjax:function(n,s){var i=n.serialize(),r=s.ajaxFormValidationMethod?s.ajaxFormValidationMethod:"GET",a=s.ajaxFormValidationURL?s.ajaxFormValidationURL:n.attr("action"),o=s.dataType?s.dataType:"json";e.ajax({type:r,url:a,cache:!1,dataType:o,data:i,form:n,methods:t,options:s,beforeSend:function(){return s.onBeforeAjaxFormValidation(n,s)},error:function(e,n){s.onFailure?s.onFailure(e,n):t._ajaxError(e,n)},success:function(i){if("json"==o&&!0!==i){for(var r=!1,a=0;a<i.length;a++){var l=i[a],d=l[0],c=e(e("#"+d)[0]);if(1==c.length){var u,h=l[2];if(1==l[1])""!=h&&h?(s.allrules[h]&&(u=s.allrules[h].alertTextOk)&&(h=u),s.showPrompts&&t._showPrompt(c,h,"pass",!1,s,!0)):t._closePrompt(c);else r|=!0,s.allrules[h]&&(u=s.allrules[h].alertText)&&(h=u),s.showPrompts&&t._showPrompt(c,h,"",!1,s,!0)}}s.onAjaxFormComplete(!r,n,i,s)}else s.onAjaxFormComplete(!0,n,i,s)}})},_validateField:function(n,s,i){if(n.attr("id")||(n.attr("id","form-validation-field-"+e.validationEngine.fieldIdCounter),++e.validationEngine.fieldIdCounter),n.hasClass(s.ignoreFieldsWithClass))return!1;if(!s.validateNonVisibleFields&&(n.is(":hidden")&&!s.prettySelect||n.parent().is(":hidden")))return!1;var r=n.attr(s.validateAttribute),a=/validate\[(.*)\]/.exec(r);if(!a)return!1;var o=a[1],l=o.split(/\[|,|\]/),d=!1,c=n.attr("name"),u="",h="",p=!1,m=!1;s.isError=!1,s.showArrow=!0,s.maxErrorsPerField>0&&(m=!0);for(var f=e(n.closest("form, .validationEngineContainer")),v=0;v<l.length;v++)l[v]=l[v].replace(" ",""),""===l[v]&&delete l[v];v=0;for(var g=0;v<l.length;v++){if(m&&g>=s.maxErrorsPerField){if(!p){var b=e.inArray("required",l);p=-1!=b&&b>=v}break}var y=void 0;switch(l[v]){case"required":p=!0,y=t._getErrorMessage(f,n,l[v],l,v,s,t._required);break;case"custom":y=t._getErrorMessage(f,n,l[v],l,v,s,t._custom);break;case"groupRequired":var x="["+s.validateAttribute+"*="+l[v+1]+"]",w=f.find(x).eq(0);w[0]!=n[0]&&(t._validateField(w,s,i),s.showArrow=!0),(y=t._getErrorMessage(f,n,l[v],l,v,s,t._groupRequired))&&(p=!0),s.showArrow=!1;break;case"ajax":(y=t._ajax(n,l,v,s))&&(h="load");break;case"minSize":y=t._getErrorMessage(f,n,l[v],l,v,s,t._minSize);break;case"maxSize":y=t._getErrorMessage(f,n,l[v],l,v,s,t._maxSize);break;case"min":y=t._getErrorMessage(f,n,l[v],l,v,s,t._min);break;case"max":y=t._getErrorMessage(f,n,l[v],l,v,s,t._max);break;case"past":y=t._getErrorMessage(f,n,l[v],l,v,s,t._past);break;case"future":y=t._getErrorMessage(f,n,l[v],l,v,s,t._future);break;case"dateRange":x="["+s.validateAttribute+"*="+l[v+1]+"]",s.firstOfGroup=f.find(x).eq(0),s.secondOfGroup=f.find(x).eq(1),(s.firstOfGroup[0].value||s.secondOfGroup[0].value)&&(y=t._getErrorMessage(f,n,l[v],l,v,s,t._dateRange)),y&&(p=!0),s.showArrow=!1;break;case"dateTimeRange":x="["+s.validateAttribute+"*="+l[v+1]+"]",s.firstOfGroup=f.find(x).eq(0),s.secondOfGroup=f.find(x).eq(1),(s.firstOfGroup[0].value||s.secondOfGroup[0].value)&&(y=t._getErrorMessage(f,n,l[v],l,v,s,t._dateTimeRange)),y&&(p=!0),s.showArrow=!1;break;case"maxCheckbox":n=e(f.find("input[name='"+c+"']")),y=t._getErrorMessage(f,n,l[v],l,v,s,t._maxCheckbox);break;case"minCheckbox":n=e(f.find("input[name='"+c+"']")),y=t._getErrorMessage(f,n,l[v],l,v,s,t._minCheckbox);break;case"equals":y=t._getErrorMessage(f,n,l[v],l,v,s,t._equals);break;case"funcCall":y=t._getErrorMessage(f,n,l[v],l,v,s,t._funcCall);break;case"creditCard":y=t._getErrorMessage(f,n,l[v],l,v,s,t._creditCard);break;case"condRequired":void 0!==(y=t._getErrorMessage(f,n,l[v],l,v,s,t._condRequired))&&(p=!0);break;case"funcCallRequired":void 0!==(y=t._getErrorMessage(f,n,l[v],l,v,s,t._funcCallRequired))&&(p=!0)}var _=!1;if("object"==typeof y)switch(y.status){case"_break":_=!0;break;case"_error":y=y.message;break;case"_error_no_prompt":return!0}if(0==v&&0==o.indexOf("funcCallRequired")&&void 0!==y&&(u+=y+"<br/>",s.isError=!0,g++,_=!0),_)break;"string"==typeof y&&(u+=y+"<br/>",s.isError=!0,g++)}!p&&!n.val()&&n.val().length<1&&e.inArray("equals",l)<0&&(s.isError=!1);var k=n.prop("type"),T=n.data("promptPosition")||s.promptPosition;("radio"==k||"checkbox"==k)&&f.find("input[name='"+c+"']").size()>1&&(n=e("inline"===T?f.find("input[name='"+c+"'][type!=hidden]:last"):f.find("input[name='"+c+"'][type!=hidden]:first")),s.showArrow=s.showArrowOnRadioAndCheckbox),n.is(":hidden")&&s.prettySelect&&(n=f.find("#"+s.usePrefix+t._jqSelector(n.attr("id"))+s.useSuffix)),s.isError&&s.showPrompts?t._showPrompt(n,u,h,!1,s):d||t._closePrompt(n),d||n.trigger("jqv.field.result",[n,s.isError,u]);var S=e.inArray(n[0],s.InvalidFields);return-1==S?s.isError&&s.InvalidFields.push(n[0]):s.isError||s.InvalidFields.splice(S,1),t._handleStatusCssClasses(n,s),s.isError&&s.onFieldFailure&&s.onFieldFailure(n),!s.isError&&s.onFieldSuccess&&s.onFieldSuccess(n),s.isError},_handleStatusCssClasses:function(e,t){t.addSuccessCssClassToField&&e.removeClass(t.addSuccessCssClassToField),t.addFailureCssClassToField&&e.removeClass(t.addFailureCssClassToField),t.addSuccessCssClassToField&&!t.isError&&e.addClass(t.addSuccessCssClassToField),t.addFailureCssClassToField&&t.isError&&e.addClass(t.addFailureCssClassToField)},_getErrorMessage:function(n,s,i,r,a,o,l){var d=jQuery.inArray(i,r);"custom"!==i&&"funcCall"!==i&&"funcCallRequired"!==i||(i=i+"["+r[d+1]+"]",delete r[d]);var c,u=i,h=(s.attr("data-validation-engine")?s.attr("data-validation-engine"):s.attr("class")).split(" ");if(null!=(c="future"==i||"past"==i||"maxCheckbox"==i||"minCheckbox"==i?l(n,s,r,a,o):l(s,r,a,o))){var p=t._getCustomErrorMessage(e(s),h,u,o);p&&(c=p)}return c},_getCustomErrorMessage:function(e,n,s,i){var r=!1,a=/^custom\[.*\]$/.test(s)?t._validityProp.custom:t._validityProp[s];if(null!=a&&null!=(r=e.attr("data-errormessage-"+a)))return r;if(null!=(r=e.attr("data-errormessage")))return r;var o="#"+e.attr("id");if(void 0!==i.custom_error_messages[o]&&void 0!==i.custom_error_messages[o][s])r=i.custom_error_messages[o][s].message;else if(n.length>0)for(var l=0;l<n.length&&n.length>0;l++){var d="."+n[l];if(void 0!==i.custom_error_messages[d]&&void 0!==i.custom_error_messages[d][s]){r=i.custom_error_messages[d][s].message;break}}return r||void 0===i.custom_error_messages[s]||void 0===i.custom_error_messages[s].message||(r=i.custom_error_messages[s].message),r},_validityProp:{required:"value-missing",custom:"custom-error",groupRequired:"value-missing",ajax:"custom-error",minSize:"range-underflow",maxSize:"range-overflow",min:"range-underflow",max:"range-overflow",past:"type-mismatch",future:"type-mismatch",dateRange:"type-mismatch",dateTimeRange:"type-mismatch",maxCheckbox:"range-overflow",minCheckbox:"range-underflow",equals:"pattern-mismatch",funcCall:"custom-error",funcCallRequired:"custom-error",creditCard:"pattern-mismatch",condRequired:"value-missing"},_required:function(t,n,s,i,r){switch(t.prop("type")){case"radio":case"checkbox":if(r){if(!t.prop("checked"))return i.allrules[n[s]].alertTextCheckboxMultiple;break}var a=t.closest("form, .validationEngineContainer"),o=t.attr("name");if(0==a.find("input[name='"+o+"']:checked").size())return 1==a.find("input[name='"+o+"']:visible").size()?i.allrules[n[s]].alertTextCheckboxe:i.allrules[n[s]].alertTextCheckboxMultiple;break;default:var l=e.trim(t.val()),d=e.trim(t.attr("data-validation-placeholder")),c=e.trim(t.attr("placeholder"));if(!l||d&&l==d||c&&l==c)return i.allrules[n[s]].alertText}},_groupRequired:function(n,s,i,r){var a="["+r.validateAttribute+"*="+s[i+1]+"]",o=!1;if(n.closest("form, .validationEngineContainer").find(a).each((function(){if(!t._required(e(this),s,i,r))return o=!0,!1})),!o)return r.allrules[s[i]].alertText},_custom:function(e,t,n,s){var i,r=t[n+1],a=s.allrules[r];if(a)if(a.regex){var o=a.regex;if(!o)return void alert("jqv:custom regex not found - "+r);if(!new RegExp(o).test(e.val()))return s.allrules[r].alertText}else{if(!a.func)return void alert("jqv:custom type not allowed "+r);if("function"!=typeof(i=a.func))return void alert("jqv:custom parameter 'function' is no function - "+r);if(!i(e,t,n,s))return s.allrules[r].alertText}else alert("jqv:custom rule not found - "+r)},_funcCall:function(e,t,n,s){var i,r=t[n+1];if(r.indexOf(".")>-1){for(var a=r.split("."),o=window;a.length;)o=o[a.shift()];i=o}else i=window[r]||s.customFunctions[r];if("function"==typeof i)return i(e,t,n,s)},_funcCallRequired:function(e,n,s,i){return t._funcCall(e,n,s,i)},_equals:function(t,n,s,i){var r=n[s+1];if(t.val()!=e("#"+r).val())return i.allrules.equals.alertText},_maxSize:function(e,t,n,s){var i=t[n+1];if(e.val().length>i){var r=s.allrules.maxSize;return r.alertText+i+r.alertText2}},_minSize:function(e,t,n,s){var i=t[n+1];if(e.val().length<i){var r=s.allrules.minSize;return r.alertText+i+r.alertText2}},_min:function(e,t,n,s){var i=parseFloat(t[n+1]);if(parseFloat(e.val())<i){var r=s.allrules.min;return r.alertText2?r.alertText+i+r.alertText2:r.alertText+i}},_max:function(e,t,n,s){var i=parseFloat(t[n+1]);if(parseFloat(e.val())>i){var r=s.allrules.max;return r.alertText2?r.alertText+i+r.alertText2:r.alertText+i}},_past:function(n,s,i,r,a){var o,l=i[r+1],d=e(n.find("*[name='"+l.replace(/^#+/,"")+"']"));if("now"==l.toLowerCase())o=new Date;else if(null!=d.val()){if(d.is(":disabled"))return;o=t._parseDate(d.val())}else o=t._parseDate(l);if(t._parseDate(s.val())>o){var c=a.allrules.past;return c.alertText2?c.alertText+t._dateToString(o)+c.alertText2:c.alertText+t._dateToString(o)}},_future:function(n,s,i,r,a){var o,l=i[r+1],d=e(n.find("*[name='"+l.replace(/^#+/,"")+"']"));if("now"==l.toLowerCase())o=new Date;else if(null!=d.val()){if(d.is(":disabled"))return;o=t._parseDate(d.val())}else o=t._parseDate(l);if(t._parseDate(s.val())<o){var c=a.allrules.future;return c.alertText2?c.alertText+t._dateToString(o)+c.alertText2:c.alertText+t._dateToString(o)}},_isDate:function(e){return new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/).test(e)},_isDateTime:function(e){return new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/).test(e)},_dateCompare:function(e,t){return new Date(e.toString())<new Date(t.toString())},_dateRange:function(e,n,s,i){return!i.firstOfGroup[0].value&&i.secondOfGroup[0].value||i.firstOfGroup[0].value&&!i.secondOfGroup[0].value?i.allrules[n[s]].alertText+i.allrules[n[s]].alertText2:t._isDate(i.firstOfGroup[0].value)&&t._isDate(i.secondOfGroup[0].value)&&t._dateCompare(i.firstOfGroup[0].value,i.secondOfGroup[0].value)?void 0:i.allrules[n[s]].alertText+i.allrules[n[s]].alertText2},_dateTimeRange:function(e,n,s,i){return!i.firstOfGroup[0].value&&i.secondOfGroup[0].value||i.firstOfGroup[0].value&&!i.secondOfGroup[0].value?i.allrules[n[s]].alertText+i.allrules[n[s]].alertText2:t._isDateTime(i.firstOfGroup[0].value)&&t._isDateTime(i.secondOfGroup[0].value)&&t._dateCompare(i.firstOfGroup[0].value,i.secondOfGroup[0].value)?void 0:i.allrules[n[s]].alertText+i.allrules[n[s]].alertText2},_maxCheckbox:function(e,t,n,s,i){var r=n[s+1],a=t.attr("name");if(e.find("input[name='"+a+"']:checked").size()>r)return i.showArrow=!1,i.allrules.maxCheckbox.alertText2?i.allrules.maxCheckbox.alertText+" "+r+" "+i.allrules.maxCheckbox.alertText2:i.allrules.maxCheckbox.alertText},_minCheckbox:function(e,t,n,s,i){var r=n[s+1],a=t.attr("name");if(e.find("input[name='"+a+"']:checked").size()<r)return i.showArrow=!1,i.allrules.minCheckbox.alertText+" "+r+" "+i.allrules.minCheckbox.alertText2},_creditCard:function(e,t,n,s){var i=!1,r=e.val().replace(/ +/g,"").replace(/-+/g,""),a=r.length;if(a>=14&&a<=16&&parseInt(r)>0){var o,l=0,d=(n=a-1,1),c=new String;do{o=parseInt(r.charAt(n)),c+=d++%2==0?2*o:o}while(--n>=0);for(n=0;n<c.length;n++)l+=parseInt(c.charAt(n));i=l%10==0}if(!i)return s.allrules.creditCard.alertText},_ajax:function(n,s,i,r){var a=s[i+1],o=r.allrules[a],l=o.extraData,d=o.extraDataDynamic,c={fieldId:n.attr("id"),fieldValue:n.val()};if("object"==typeof l)e.extend(c,l);else if("string"==typeof l){var u=l.split("&");for(i=0;i<u.length;i++){var h=u[i].split("=");h[0]&&h[0]&&(c[h[0]]=h[1])}}if(d){var p=String(d).split(",");for(i=0;i<p.length;i++){var m=p[i];if(e(m).length){var f=n.closest("form, .validationEngineContainer").find(m).val();m.replace("#",""),escape(f),c[m.replace("#","")]=f}}}if("field"==r.eventTrigger&&delete r.ajaxValidCache[n.attr("id")],!r.isError&&!t._checkAjaxFieldStatus(n.attr("id"),r))return e.ajax({type:r.ajaxFormValidationMethod,url:o.url,cache:!1,dataType:"json",data:c,field:n,rule:o,methods:t,options:r,beforeSend:function(){},error:function(e,n){r.onFailure?r.onFailure(e,n):t._ajaxError(e,n)},success:function(s){var i=s[0],a=e("#"+i).eq(0);if(1==a.length){var l,d=s[1],c=s[2];if(d)r.ajaxValidCache[i]=!0,c?r.allrules[c]&&(l=r.allrules[c].alertTextOk)&&(c=l):c=o.alertTextOk,r.showPrompts&&(c?t._showPrompt(a,c,"pass",!0,r):t._closePrompt(a)),"submit"==r.eventTrigger&&n.closest("form").submit();else r.ajaxValidCache[i]=!1,r.isError=!0,c?r.allrules[c]&&(l=r.allrules[c].alertText)&&(c=l):c=o.alertText,r.showPrompts&&t._showPrompt(a,c,"",!0,r)}a.trigger("jqv.field.result",[a,r.isError,c])}}),o.alertTextLoad},_ajaxError:function(e,t){0==e.status&&null==t?alert("The page is not served from a server! ajax call failed"):"undefined"!=typeof console&&console.log("Ajax error: "+e.status+" "+t)},_dateToString:function(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},_parseDate:function(e){var t=e.split("-");return t==e&&(t=e.split("/")),t==e?(t=e.split("."),new Date(t[2],t[1]-1,t[0])):new Date(t[0],t[1]-1,t[2])},_showPrompt:function(n,s,i,r,a,o){n.data("jqv-prompt-at")instanceof jQuery?n=n.data("jqv-prompt-at"):n.data("jqv-prompt-at")&&(n=e(n.data("jqv-prompt-at")));var l=t._getPrompt(n);o&&(l=!1),e.trim(s)&&(l?t._updatePrompt(n,l,s,i,r,a):t._buildPrompt(n,s,i,r,a))},_buildPrompt:function(n,s,i,r,a){var o=e("<div>");switch(o.addClass(t._getClassName(n.attr("id"))+"formError"),o.addClass("parentForm"+t._getClassName(n.closest("form, .validationEngineContainer").attr("id"))),o.addClass("formError"),i){case"pass":o.addClass("greenPopup");break;case"load":o.addClass("blackPopup")}r&&o.addClass("ajaxed"),e("<div>").addClass("formErrorContent").html(s).appendTo(o);var l=n.data("promptPosition")||a.promptPosition;if(a.showArrow){var d=e("<div>").addClass("formErrorArrow");switch("string"==typeof l&&-1!=(h=l.indexOf(":"))&&(l=l.substring(0,h)),l){case"bottomLeft":case"bottomRight":o.find(".formErrorContent").before(d),d.addClass("formErrorArrowBottom").html('<div class="line1">\x3c!-- --\x3e</div><div class="line2">\x3c!-- --\x3e</div><div class="line3">\x3c!-- --\x3e</div><div class="line4">\x3c!-- --\x3e</div><div class="line5">\x3c!-- --\x3e</div><div class="line6">\x3c!-- --\x3e</div><div class="line7">\x3c!-- --\x3e</div><div class="line8">\x3c!-- --\x3e</div><div class="line9">\x3c!-- --\x3e</div><div class="line10">\x3c!-- --\x3e</div>');break;case"topLeft":case"topRight":d.html('<div class="line10">\x3c!-- --\x3e</div><div class="line9">\x3c!-- --\x3e</div><div class="line8">\x3c!-- --\x3e</div><div class="line7">\x3c!-- --\x3e</div><div class="line6">\x3c!-- --\x3e</div><div class="line5">\x3c!-- --\x3e</div><div class="line4">\x3c!-- --\x3e</div><div class="line3">\x3c!-- --\x3e</div><div class="line2">\x3c!-- --\x3e</div><div class="line1">\x3c!-- --\x3e</div>'),o.append(d)}}a.addPromptClass&&o.addClass(a.addPromptClass);var c=n.attr("data-required-class");if(void 0!==c)o.addClass(c);else if(a.prettySelect&&e("#"+n.attr("id")).next().is("select")){var u=e("#"+n.attr("id").substr(a.usePrefix.length).substring(a.useSuffix.length)).attr("data-required-class");void 0!==u&&o.addClass(u)}o.css({opacity:0}),"inline"===l?(o.addClass("inline"),void 0!==n.attr("data-prompt-target")&&e("#"+n.attr("data-prompt-target")).length>0?o.appendTo(e("#"+n.attr("data-prompt-target"))):n.after(o)):n.before(o);var h=t._calculatePosition(n,o,a);return o.css({position:"inline"===l?"relative":"absolute",top:h.callerTopPosition,left:h.callerleftPosition,marginTop:h.marginTopSize,opacity:0}).data("callerField",n),a.autoHidePrompt&&setTimeout((function(){o.animate({opacity:0},(function(){o.closest(".formError").remove()}))}),a.autoHideDelay),o.animate({opacity:.87})},_updatePrompt:function(e,n,s,i,r,a,o){if(n){void 0!==i&&("pass"==i?n.addClass("greenPopup"):n.removeClass("greenPopup"),"load"==i?n.addClass("blackPopup"):n.removeClass("blackPopup")),r?n.addClass("ajaxed"):n.removeClass("ajaxed"),n.find(".formErrorContent").html(s);var l=t._calculatePosition(e,n,a),d={top:l.callerTopPosition,left:l.callerleftPosition,marginTop:l.marginTopSize,opacity:.87};n.css({opacity:0,display:"block"}),o?n.css(d):n.animate(d)}},_closePrompt:function(e){var n=t._getPrompt(e);n&&n.fadeTo("fast",0,(function(){n.closest(".formError").remove()}))},closePrompt:function(e){return t._closePrompt(e)},_getPrompt:function(n){var s=e(n).closest("form, .validationEngineContainer").attr("id"),i=t._getClassName(n.attr("id"))+"formError",r=e("."+t._escapeExpression(i)+".parentForm"+t._getClassName(s))[0];if(r)return e(r)},_escapeExpression:function(e){return e.replace(/([#;&,\.\+\*\~':"\!\^$\[\]\(\)=>\|])/g,"\\$1")},isRTL:function(t){var n=e(document),s=e("body"),i=t&&t.hasClass("rtl")||t&&"rtl"===(t.attr("dir")||"").toLowerCase()||n.hasClass("rtl")||"rtl"===(n.attr("dir")||"").toLowerCase()||s.hasClass("rtl")||"rtl"===(s.attr("dir")||"").toLowerCase();return Boolean(i)},_calculatePosition:function(e,t,n){var s,i,r,a=e.width(),o=e.position().left,l=e.position().top;e.height(),s=i=0,r=-t.height();var d=e.data("promptPosition")||n.promptPosition,c="",u="",h=0,p=0;switch("string"==typeof d&&-1!=d.indexOf(":")&&(c=d.substring(d.indexOf(":")+1),d=d.substring(0,d.indexOf(":")),-1!=c.indexOf(",")&&(u=c.substring(c.indexOf(",")+1),c=c.substring(0,c.indexOf(",")),p=parseInt(u),isNaN(p)&&(p=0)),h=parseInt(c),isNaN(c)&&(c=0)),d){default:case"topRight":i+=o+a-27,s+=l;break;case"topLeft":s+=l,i+=o;break;case"centerRight":s=l+4,r=0,i=o+e.outerWidth(!0)+5;break;case"centerLeft":i=o-(t.width()+2),s=l+4,r=0;break;case"bottomLeft":s=l+e.height()+5,r=0,i=o;break;case"bottomRight":i=o+a-27,s=l+e.height()+5,r=0;break;case"inline":i=0,s=0,r=0}return{callerTopPosition:(s+=p)+"px",callerleftPosition:(i+=h)+"px",marginTopSize:r+"px"}},_saveOptions:function(t,n){if(e.validationEngineLanguage)var s=e.validationEngineLanguage.allRules;else e.error("jQuery.validationEngine rules are not loaded, plz add localization files to the page");e.validationEngine.defaults.allrules=s;var i=e.extend(!0,{},e.validationEngine.defaults,n);return t.data("jqv",i),i},_getClassName:function(e){if(e)return e.replace(/:/g,"_").replace(/\./g,"_")},_jqSelector:function(e){return e.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1")},_condRequired:function(e,n,s,i){var r,a;for(r=s+1;r<n.length;r++)if((a=jQuery("#"+n[r]).first()).length&&null==t._required(a,["required"],0,i,!0))return t._required(e,["required"],0,i)},_submitButtonClick:function(t){var n=e(this);n.closest("form, .validationEngineContainer").data("jqv_submitButton",n.attr("id"))}};e.fn.validationEngine=function(n){var s=e(this);return s[0]?"string"==typeof n&&"_"!=n.charAt(0)&&t[n]?("showPrompt"!=n&&"hide"!=n&&"hideAll"!=n&&t.init.apply(s),t[n].apply(s,Array.prototype.slice.call(arguments,1))):"object"!=typeof n&&n?void e.error("Method "+n+" does not exist in jQuery.validationEngine"):(t.init.apply(s,arguments),t.attach.apply(s)):s},e.validationEngine={fieldIdCounter:0,defaults:{validationEventTrigger:"blur",scroll:!0,focusFirstField:!0,showPrompts:!0,validateNonVisibleFields:!1,ignoreFieldsWithClass:"ignoreMe",promptPosition:"topRight",bindMethod:"bind",inlineAjax:!1,ajaxFormValidation:!1,ajaxFormValidationURL:!1,ajaxFormValidationMethod:"get",onAjaxFormComplete:e.noop,onBeforeAjaxFormValidation:e.noop,onValidationComplete:!1,doNotShowAllErrosOnSubmit:!1,custom_error_messages:{},binded:!0,notEmpty:!1,showArrow:!0,showArrowOnRadioAndCheckbox:!1,isError:!1,maxErrorsPerField:!1,ajaxValidCache:{},autoPositionUpdate:!1,InvalidFields:[],onFieldSuccess:!1,onFieldFailure:!1,onSuccess:!1,onFailure:!1,validateAttribute:"class",addSuccessCssClassToField:"",addFailureCssClassToField:"",autoHidePrompt:!1,autoHideDelay:1e4,fadeDuration:300,prettySelect:!1,addPromptClass:"",usePrefix:"",useSuffix:"",showOneMessage:!1}},e((function(){e.validationEngine.defaults.promptPosition=t.isRTL()?"topLeft":"topRight"}))},void 0===(r="function"==typeof s?s.apply(t,i):s)||(e.exports=r)},"./app/ui/application/vendor/modernizr.exec.js":(e,t,n)=>{n("../caches/app/node_modules/script-loader/addScript.js")(n("../caches/app/node_modules/raw-loader/index.js!./app/ui/application/vendor/modernizr.exec.js"))},"./app/ui/utilities/bugsnag.ts":(e,t,n)=>{"use strict";n.d(t,{q:()=>a});var s=n("../caches/app/node_modules/@bugsnag/js/browser/notifier.js"),i=n.n(s);const r={apiKey:"69ced3d4ebd0a4b47a519d21073060f9",appVersion:n("../caches/app/node_modules/process/browser.js").env.REVISION,releaseStage:"production",enabledReleaseStages:["production","staging"],onError:e=>{if(e.request.url?.startsWith("file://"))return!1}},a=e=>{const t={...r,...e};i().start(t)}},"../caches/app/node_modules/raw-loader/index.js!./app/ui/application/vendor/modernizr.exec.js":e=>{e.exports="/*!\n * modernizr v3.3.1\n * Build https://modernizr.com/download?-csstransforms3d-flexbox-placeholder-setclasses-dontmin\n *\n * Copyright (c)\n *  Faruk Ates\n *  Paul Irish\n *  Alex Sexton\n *  Ryan Seddon\n *  Patrick Kettner\n *  Stu Cox\n *  Richard Herrera\n\n * MIT License\n */\n\n/*\n * Modernizr tests which native CSS3 and HTML5 features are available in the\n * current UA and makes the results available to you in two ways: as properties on\n * a global `Modernizr` object, and as classes on the `<html>` element. This\n * information allows you to progressively enhance your pages with a granular level\n * of control over the experience.\n*/\n\n;(function(window, document, undefined){\n  var classes = [];\n\n\n  var tests = [];\n\n\n  /**\n   *\n   * ModernizrProto is the constructor for Modernizr\n   *\n   * @class\n   * @access public\n   */\n\n  var ModernizrProto = {\n    // The current version, dummy\n    _version: '3.3.1',\n\n    // Any settings that don't work as separate modules\n    // can go in here as configuration.\n    _config: {\n      'classPrefix': '',\n      'enableClasses': true,\n      'enableJSClass': true,\n      'usePrefixes': true\n    },\n\n    // Queue of tests\n    _q: [],\n\n    // Stub these for people who are listening\n    on: function(test, cb) {\n      // I don't really think people should do this, but we can\n      // safe guard it a bit.\n      // -- NOTE:: this gets WAY overridden in src/addTest for actual async tests.\n      // This is in case people listen to synchronous tests. I would leave it out,\n      // but the code to *disallow* sync tests in the real version of this\n      // function is actually larger than this.\n      var self = this;\n      setTimeout(function() {\n        cb(self[test]);\n      }, 0);\n    },\n\n    addTest: function(name, fn, options) {\n      tests.push({name: name, fn: fn, options: options});\n    },\n\n    addAsyncTest: function(fn) {\n      tests.push({name: null, fn: fn});\n    }\n  };\n\n\n\n  // Fake some of Object.create so we can force non test results to be non \"own\" properties.\n  var Modernizr = function() {};\n  Modernizr.prototype = ModernizrProto;\n\n  // Leak modernizr globally when you `require` it rather than force it here.\n  // Overwrite name so constructor name is nicer :D\n  Modernizr = new Modernizr();\n\n\n\n  /**\n   * is returns a boolean if the typeof an obj is exactly type.\n   *\n   * @access private\n   * @function is\n   * @param {*} obj - A thing we want to check the type of\n   * @param {string} type - A string to compare the typeof against\n   * @returns {boolean}\n   */\n\n  function is(obj, type) {\n    return typeof obj === type;\n  }\n  ;\n\n  /**\n   * Run through all tests and detect their support in the current UA.\n   *\n   * @access private\n   */\n\n  function testRunner() {\n    var featureNames;\n    var feature;\n    var aliasIdx;\n    var result;\n    var nameIdx;\n    var featureName;\n    var featureNameSplit;\n\n    for (var featureIdx in tests) {\n      if (tests.hasOwnProperty(featureIdx)) {\n        featureNames = [];\n        feature = tests[featureIdx];\n        // run the test, throw the return value into the Modernizr,\n        // then based on that boolean, define an appropriate className\n        // and push it into an array of classes we'll join later.\n        //\n        // If there is no name, it's an 'async' test that is run,\n        // but not directly added to the object. That should\n        // be done with a post-run addTest call.\n        if (feature.name) {\n          featureNames.push(feature.name.toLowerCase());\n\n          if (feature.options && feature.options.aliases && feature.options.aliases.length) {\n            // Add all the aliases into the names list\n            for (aliasIdx = 0; aliasIdx < feature.options.aliases.length; aliasIdx++) {\n              featureNames.push(feature.options.aliases[aliasIdx].toLowerCase());\n            }\n          }\n        }\n\n        // Run the test, or use the raw value if it's not a function\n        result = is(feature.fn, 'function') ? feature.fn() : feature.fn;\n\n\n        // Set each of the names on the Modernizr object\n        for (nameIdx = 0; nameIdx < featureNames.length; nameIdx++) {\n          featureName = featureNames[nameIdx];\n          // Support dot properties as sub tests. We don't do checking to make sure\n          // that the implied parent tests have been added. You must call them in\n          // order (either in the test, or make the parent test a dependency).\n          //\n          // Cap it to TWO to make the logic simple and because who needs that kind of subtesting\n          // hashtag famous last words\n          featureNameSplit = featureName.split('.');\n\n          if (featureNameSplit.length === 1) {\n            Modernizr[featureNameSplit[0]] = result;\n          } else {\n            // cast to a Boolean, if not one already\n            /* jshint -W053 */\n            if (Modernizr[featureNameSplit[0]] && !(Modernizr[featureNameSplit[0]] instanceof Boolean)) {\n              Modernizr[featureNameSplit[0]] = new Boolean(Modernizr[featureNameSplit[0]]);\n            }\n\n            Modernizr[featureNameSplit[0]][featureNameSplit[1]] = result;\n          }\n\n          classes.push((result ? '' : 'no-') + featureNameSplit.join('-'));\n        }\n      }\n    }\n  }\n  ;\n\n  /**\n   * docElement is a convenience wrapper to grab the root element of the document\n   *\n   * @access private\n   * @returns {HTMLElement|SVGElement} The root element of the document\n   */\n\n  var docElement = document.documentElement;\n\n\n  /**\n   * A convenience helper to check if the document we are running in is an SVG document\n   *\n   * @access private\n   * @returns {boolean}\n   */\n\n  var isSVG = docElement.nodeName.toLowerCase() === 'svg';\n\n\n  /**\n   * setClasses takes an array of class names and adds them to the root element\n   *\n   * @access private\n   * @function setClasses\n   * @param {string[]} classes - Array of class names\n   */\n\n  // Pass in an and array of class names, e.g.:\n  //  ['no-webp', 'borderradius', ...]\n  function setClasses(classes) {\n    var className = docElement.className;\n    var classPrefix = Modernizr._config.classPrefix || '';\n\n    if (isSVG) {\n      className = className.baseVal;\n    }\n\n    // Change `no-js` to `js` (independently of the `enableClasses` option)\n    // Handle classPrefix on this too\n    if (Modernizr._config.enableJSClass) {\n      var reJS = new RegExp('(^|\\\\s)' + classPrefix + 'no-js(\\\\s|$)');\n      className = className.replace(reJS, '$1' + classPrefix + 'js$2');\n    }\n\n    if (Modernizr._config.enableClasses) {\n      // Add the new classes\n      className += ' ' + classPrefix + classes.join(' ' + classPrefix);\n      isSVG ? docElement.className.baseVal = className : docElement.className = className;\n    }\n\n  }\n\n  ;\n/*!\n{\n  \"name\": \"CSS Supports\",\n  \"property\": \"supports\",\n  \"caniuse\": \"css-featurequeries\",\n  \"tags\": [\"css\"],\n  \"builderAliases\": [\"css_supports\"],\n  \"notes\": [{\n    \"name\": \"W3 Spec\",\n    \"href\": \"http://dev.w3.org/csswg/css3-conditional/#at-supports\"\n  },{\n    \"name\": \"Related Github Issue\",\n    \"href\": \"github.com/Modernizr/Modernizr/issues/648\"\n  },{\n    \"name\": \"W3 Info\",\n    \"href\": \"http://dev.w3.org/csswg/css3-conditional/#the-csssupportsrule-interface\"\n  }]\n}\n!*/\n\n  var newSyntax = 'CSS' in window && 'supports' in window.CSS;\n  var oldSyntax = 'supportsCSS' in window;\n  Modernizr.addTest('supports', newSyntax || oldSyntax);\n\n\n  /**\n   * createElement is a convenience wrapper around document.createElement. Since we\n   * use createElement all over the place, this allows for (slightly) smaller code\n   * as well as abstracting away issues with creating elements in contexts other than\n   * HTML documents (e.g. SVG documents).\n   *\n   * @access private\n   * @function createElement\n   * @returns {HTMLElement|SVGElement} An HTML or SVG element\n   */\n\n  function createElement() {\n    if (typeof document.createElement !== 'function') {\n      // This is the case in IE7, where the type of createElement is \"object\".\n      // For this reason, we cannot call apply() as Object is not a Function.\n      return document.createElement(arguments[0]);\n    } else if (isSVG) {\n      return document.createElementNS.call(document, 'http://www.w3.org/2000/svg', arguments[0]);\n    } else {\n      return document.createElement.apply(document, arguments);\n    }\n  }\n\n  ;\n/*!\n{\n  \"name\": \"placeholder attribute\",\n  \"property\": \"placeholder\",\n  \"tags\": [\"forms\", \"attribute\"],\n  \"builderAliases\": [\"forms_placeholder\"]\n}\n!*/\n/* DOC\nTests for placeholder attribute in inputs and textareas\n*/\n\n  Modernizr.addTest('placeholder', ('placeholder' in createElement('input') && 'placeholder' in createElement('textarea')));\n\n\n  /**\n   * getBody returns the body of a document, or an element that can stand in for\n   * the body if a real body does not exist\n   *\n   * @access private\n   * @function getBody\n   * @returns {HTMLElement|SVGElement} Returns the real body of a document, or an\n   * artificially created element that stands in for the body\n   */\n\n  function getBody() {\n    // After page load injecting a fake body doesn't work so check if body exists\n    var body = document.body;\n\n    if (!body) {\n      // Can't use the real body create a fake one.\n      body = createElement(isSVG ? 'svg' : 'body');\n      body.fake = true;\n    }\n\n    return body;\n  }\n\n  ;\n\n  /**\n   * injectElementWithStyles injects an element with style element and some CSS rules\n   *\n   * @access private\n   * @function injectElementWithStyles\n   * @param {string} rule - String representing a css rule\n   * @param {function} callback - A function that is used to test the injected element\n   * @param {number} [nodes] - An integer representing the number of additional nodes you want injected\n   * @param {string[]} [testnames] - An array of strings that are used as ids for the additional nodes\n   * @returns {boolean}\n   */\n\n  function injectElementWithStyles(rule, callback, nodes, testnames) {\n    var mod = 'modernizr';\n    var style;\n    var ret;\n    var node;\n    var docOverflow;\n    var div = createElement('div');\n    var body = getBody();\n\n    if (parseInt(nodes, 10)) {\n      // In order not to give false positives we create a node for each test\n      // This also allows the method to scale for unspecified uses\n      while (nodes--) {\n        node = createElement('div');\n        node.id = testnames ? testnames[nodes] : mod + (nodes + 1);\n        div.appendChild(node);\n      }\n    }\n\n    style = createElement('style');\n    style.type = 'text/css';\n    style.id = 's' + mod;\n\n    // IE6 will false positive on some tests due to the style element inside the test div somehow interfering offsetHeight, so insert it into body or fakebody.\n    // Opera will act all quirky when injecting elements in documentElement when page is served as xml, needs fakebody too. #270\n    (!body.fake ? div : body).appendChild(style);\n    body.appendChild(div);\n\n    if (style.styleSheet) {\n      style.styleSheet.cssText = rule;\n    } else {\n      style.appendChild(document.createTextNode(rule));\n    }\n    div.id = mod;\n\n    if (body.fake) {\n      //avoid crashing IE8, if background image is used\n      body.style.background = '';\n      //Safari 5.13/5.1.4 OSX stops loading if ::-webkit-scrollbar is used and scrollbars are visible\n      body.style.overflow = 'hidden';\n      docOverflow = docElement.style.overflow;\n      docElement.style.overflow = 'hidden';\n      docElement.appendChild(body);\n    }\n\n    ret = callback(div, rule);\n    // If this is done after page load we don't want to remove the body so check if body exists\n    if (body.fake) {\n      body.parentNode.removeChild(body);\n      docElement.style.overflow = docOverflow;\n      // Trigger layout so kinetic scrolling isn't disabled in iOS6+\n      docElement.offsetHeight;\n    } else {\n      div.parentNode.removeChild(div);\n    }\n\n    return !!ret;\n\n  }\n\n  ;\n\n  /**\n   * testStyles injects an element with style element and some CSS rules\n   *\n   * @memberof Modernizr\n   * @name Modernizr.testStyles\n   * @optionName Modernizr.testStyles()\n   * @optionProp testStyles\n   * @access public\n   * @function testStyles\n   * @param {string} rule - String representing a css rule\n   * @param {function} callback - A function that is used to test the injected element\n   * @param {number} [nodes] - An integer representing the number of additional nodes you want injected\n   * @param {string[]} [testnames] - An array of strings that are used as ids for the additional nodes\n   * @returns {boolean}\n   * @example\n   *\n   * `Modernizr.testStyles` takes a CSS rule and injects it onto the current page\n   * along with (possibly multiple) DOM elements. This lets you check for features\n   * that can not be detected by simply checking the [IDL](https://developer.mozilla.org/en-US/docs/Mozilla/Developer_guide/Interface_development_guide/IDL_interface_rules).\n   *\n   * ```js\n   * Modernizr.testStyles('#modernizr { width: 9px; color: papayawhip; }', function(elem, rule) {\n   *   // elem is the first DOM node in the page (by default #modernizr)\n   *   // rule is the first argument you supplied - the CSS rule in string form\n   *\n   *   addTest('widthworks', elem.style.width === '9px')\n   * });\n   * ```\n   *\n   * If your test requires multiple nodes, you can include a third argument\n   * indicating how many additional div elements to include on the page. The\n   * additional nodes are injected as children of the `elem` that is returned as\n   * the first argument to the callback.\n   *\n   * ```js\n   * Modernizr.testStyles('#modernizr {width: 1px}; #modernizr2 {width: 2px}', function(elem) {\n   *   document.getElementById('modernizr').style.width === '1px'; // true\n   *   document.getElementById('modernizr2').style.width === '2px'; // true\n   *   elem.firstChild === document.getElementById('modernizr2'); // true\n   * }, 1);\n   * ```\n   *\n   * By default, all of the additional elements have an ID of `modernizr[n]`, where\n   * `n` is its index (e.g. the first additional, second overall is `#modernizr2`,\n   * the second additional is `#modernizr3`, etc.).\n   * If you want to have more meaningful IDs for your function, you can provide\n   * them as the fourth argument, as an array of strings\n   *\n   * ```js\n   * Modernizr.testStyles('#foo {width: 10px}; #bar {height: 20px}', function(elem) {\n   *   elem.firstChild === document.getElementById('foo'); // true\n   *   elem.lastChild === document.getElementById('bar'); // true\n   * }, 2, ['foo', 'bar']);\n   * ```\n   *\n   */\n\n  var testStyles = ModernizrProto.testStyles = injectElementWithStyles;\n\n\n  /**\n   * If the browsers follow the spec, then they would expose vendor-specific style as:\n   *   elem.style.WebkitBorderRadius\n   * instead of something like the following, which would be technically incorrect:\n   *   elem.style.webkitBorderRadius\n\n   * Webkit ghosts their properties in lowercase but Opera & Moz do not.\n   * Microsoft uses a lowercase `ms` instead of the correct `Ms` in IE8+\n   *   erik.eae.net/archives/2008/03/10/21.48.10/\n\n   * More here: github.com/Modernizr/Modernizr/issues/issue/21\n   *\n   * @access private\n   * @returns {string} The string representing the vendor-specific style properties\n   */\n\n  var omPrefixes = 'Moz O ms Webkit';\n\n\n  var cssomPrefixes = (ModernizrProto._config.usePrefixes ? omPrefixes.split(' ') : []);\n  ModernizrProto._cssomPrefixes = cssomPrefixes;\n\n\n  /**\n   * List of JavaScript DOM values used for tests\n   *\n   * @memberof Modernizr\n   * @name Modernizr._domPrefixes\n   * @optionName Modernizr._domPrefixes\n   * @optionProp domPrefixes\n   * @access public\n   * @example\n   *\n   * Modernizr._domPrefixes is exactly the same as [_prefixes](#modernizr-_prefixes), but rather\n   * than kebab-case properties, all properties are their Capitalized variant\n   *\n   * ```js\n   * Modernizr._domPrefixes === [ \"Moz\", \"O\", \"ms\", \"Webkit\" ];\n   * ```\n   */\n\n  var domPrefixes = (ModernizrProto._config.usePrefixes ? omPrefixes.toLowerCase().split(' ') : []);\n  ModernizrProto._domPrefixes = domPrefixes;\n\n\n\n  /**\n   * contains checks to see if a string contains another string\n   *\n   * @access private\n   * @function contains\n   * @param {string} str - The string we want to check for substrings\n   * @param {string} substr - The substring we want to search the first string for\n   * @returns {boolean}\n   */\n\n  function contains(str, substr) {\n    return !!~('' + str).indexOf(substr);\n  }\n\n  ;\n\n  /**\n   * cssToDOM takes a kebab-case string and converts it to camelCase\n   * e.g. box-sizing -> boxSizing\n   *\n   * @access private\n   * @function cssToDOM\n   * @param {string} name - String name of kebab-case prop we want to convert\n   * @returns {string} The camelCase version of the supplied name\n   */\n\n  function cssToDOM(name) {\n    return name.replace(/([a-z])-([a-z])/g, function(str, m1, m2) {\n      return m1 + m2.toUpperCase();\n    }).replace(/^-/, '');\n  }\n  ;\n\n  /**\n   * fnBind is a super small [bind](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind) polyfill.\n   *\n   * @access private\n   * @function fnBind\n   * @param {function} fn - a function you want to change `this` reference to\n   * @param {object} that - the `this` you want to call the function with\n   * @returns {function} The wrapped version of the supplied function\n   */\n\n  function fnBind(fn, that) {\n    return function() {\n      return fn.apply(that, arguments);\n    };\n  }\n\n  ;\n\n  /**\n   * testDOMProps is a generic DOM property test; if a browser supports\n   *   a certain property, it won't return undefined for it.\n   *\n   * @access private\n   * @function testDOMProps\n   * @param {array.<string>} props - An array of properties to test for\n   * @param {object} obj - An object or Element you want to use to test the parameters again\n   * @param {boolean|object} elem - An Element to bind the property lookup again. Use `false` to prevent the check\n   */\n  function testDOMProps(props, obj, elem) {\n    var item;\n\n    for (var i in props) {\n      if (props[i] in obj) {\n\n        // return the property name as a string\n        if (elem === false) {\n          return props[i];\n        }\n\n        item = obj[props[i]];\n\n        // let's bind a function\n        if (is(item, 'function')) {\n          // bind to obj unless overriden\n          return fnBind(item, elem || obj);\n        }\n\n        // return the unbound function or obj or value\n        return item;\n      }\n    }\n    return false;\n  }\n\n  ;\n\n  /**\n   * Create our \"modernizr\" element that we do most feature tests on.\n   *\n   * @access private\n   */\n\n  var modElem = {\n    elem: createElement('modernizr')\n  };\n\n  // Clean up this element\n  Modernizr._q.push(function() {\n    delete modElem.elem;\n  });\n\n\n\n  var mStyle = {\n    style: modElem.elem.style\n  };\n\n  // kill ref for gc, must happen before mod.elem is removed, so we unshift on to\n  // the front of the queue.\n  Modernizr._q.unshift(function() {\n    delete mStyle.style;\n  });\n\n\n\n  /**\n   * domToCSS takes a camelCase string and converts it to kebab-case\n   * e.g. boxSizing -> box-sizing\n   *\n   * @access private\n   * @function domToCSS\n   * @param {string} name - String name of camelCase prop we want to convert\n   * @returns {string} The kebab-case version of the supplied name\n   */\n\n  function domToCSS(name) {\n    return name.replace(/([A-Z])/g, function(str, m1) {\n      return '-' + m1.toLowerCase();\n    }).replace(/^ms-/, '-ms-');\n  }\n  ;\n\n  /**\n   * nativeTestProps allows for us to use native feature detection functionality if available.\n   * some prefixed form, or false, in the case of an unsupported rule\n   *\n   * @access private\n   * @function nativeTestProps\n   * @param {array} props - An array of property names\n   * @param {string} value - A string representing the value we want to check via @supports\n   * @returns {boolean|undefined} A boolean when @supports exists, undefined otherwise\n   */\n\n  // Accepts a list of property names and a single value\n  // Returns `undefined` if native detection not available\n  function nativeTestProps(props, value) {\n    var i = props.length;\n    // Start with the JS API: http://www.w3.org/TR/css3-conditional/#the-css-interface\n    if ('CSS' in window && 'supports' in window.CSS) {\n      // Try every prefixed variant of the property\n      while (i--) {\n        if (window.CSS.supports(domToCSS(props[i]), value)) {\n          return true;\n        }\n      }\n      return false;\n    }\n    // Otherwise fall back to at-rule (for Opera 12.x)\n    else if ('CSSSupportsRule' in window) {\n      // Build a condition string for every prefixed variant\n      var conditionText = [];\n      while (i--) {\n        conditionText.push('(' + domToCSS(props[i]) + ':' + value + ')');\n      }\n      conditionText = conditionText.join(' or ');\n      return injectElementWithStyles('@supports (' + conditionText + ') { #modernizr { position: absolute; } }', function(node) {\n        return getComputedStyle(node, null).position == 'absolute';\n      });\n    }\n    return undefined;\n  }\n  ;\n\n  // testProps is a generic CSS / DOM property test.\n\n  // In testing support for a given CSS property, it's legit to test:\n  //    `elem.style[styleName] !== undefined`\n  // If the property is supported it will return an empty string,\n  // if unsupported it will return undefined.\n\n  // We'll take advantage of this quick test and skip setting a style\n  // on our modernizr element, but instead just testing undefined vs\n  // empty string.\n\n  // Property names can be provided in either camelCase or kebab-case.\n\n  function testProps(props, prefixed, value, skipValueTest) {\n    skipValueTest = is(skipValueTest, 'undefined') ? false : skipValueTest;\n\n    // Try native detect first\n    if (!is(value, 'undefined')) {\n      var result = nativeTestProps(props, value);\n      if (!is(result, 'undefined')) {\n        return result;\n      }\n    }\n\n    // Otherwise do it properly\n    var afterInit, i, propsLength, prop, before;\n\n    // If we don't have a style element, that means we're running async or after\n    // the core tests, so we'll need to create our own elements to use\n\n    // inside of an SVG element, in certain browsers, the `style` element is only\n    // defined for valid tags. Therefore, if `modernizr` does not have one, we\n    // fall back to a less used element and hope for the best.\n    // for strict XHTML browsers the hardly used samp element is used\n    var elems = ['modernizr', 'tspan', 'samp'];\n    while (!mStyle.style && elems.length) {\n      afterInit = true;\n      mStyle.modElem = createElement(elems.shift());\n      mStyle.style = mStyle.modElem.style;\n    }\n\n    // Delete the objects if we created them.\n    function cleanElems() {\n      if (afterInit) {\n        delete mStyle.style;\n        delete mStyle.modElem;\n      }\n    }\n\n    propsLength = props.length;\n    for (i = 0; i < propsLength; i++) {\n      prop = props[i];\n      before = mStyle.style[prop];\n\n      if (contains(prop, '-')) {\n        prop = cssToDOM(prop);\n      }\n\n      if (mStyle.style[prop] !== undefined) {\n\n        // If value to test has been passed in, do a set-and-check test.\n        // 0 (integer) is a valid property value, so check that `value` isn't\n        // undefined, rather than just checking it's truthy.\n        if (!skipValueTest && !is(value, 'undefined')) {\n\n          // Needs a try catch block because of old IE. This is slow, but will\n          // be avoided in most cases because `skipValueTest` will be used.\n          try {\n            mStyle.style[prop] = value;\n          } catch (e) {}\n\n          // If the property value has changed, we assume the value used is\n          // supported. If `value` is empty string, it'll fail here (because\n          // it hasn't changed), which matches how browsers have implemented\n          // CSS.supports()\n          if (mStyle.style[prop] != before) {\n            cleanElems();\n            return prefixed == 'pfx' ? prop : true;\n          }\n        }\n        // Otherwise just return true, or the property name if this is a\n        // `prefixed()` call\n        else {\n          cleanElems();\n          return prefixed == 'pfx' ? prop : true;\n        }\n      }\n    }\n    cleanElems();\n    return false;\n  }\n\n  ;\n\n  /**\n   * testPropsAll tests a list of DOM properties we want to check against.\n   * We specify literally ALL possible (known and/or likely) properties on\n   * the element including the non-vendor prefixed one, for forward-\n   * compatibility.\n   *\n   * @access private\n   * @function testPropsAll\n   * @param {string} prop - A string of the property to test for\n   * @param {string|object} [prefixed] - An object to check the prefixed properties on. Use a string to skip\n   * @param {HTMLElement|SVGElement} [elem] - An element used to test the property and value against\n   * @param {string} [value] - A string of a css value\n   * @param {boolean} [skipValueTest] - An boolean representing if you want to test if value sticks when set\n   */\n  function testPropsAll(prop, prefixed, elem, value, skipValueTest) {\n\n    var ucProp = prop.charAt(0).toUpperCase() + prop.slice(1),\n    props = (prop + ' ' + cssomPrefixes.join(ucProp + ' ') + ucProp).split(' ');\n\n    // did they call .prefixed('boxSizing') or are we just testing a prop?\n    if (is(prefixed, 'string') || is(prefixed, 'undefined')) {\n      return testProps(props, prefixed, value, skipValueTest);\n\n      // otherwise, they called .prefixed('requestAnimationFrame', window[, elem])\n    } else {\n      props = (prop + ' ' + (domPrefixes).join(ucProp + ' ') + ucProp).split(' ');\n      return testDOMProps(props, prefixed, elem);\n    }\n  }\n\n  // Modernizr.testAllProps() investigates whether a given style property,\n  // or any of its vendor-prefixed variants, is recognized\n  //\n  // Note that the property names must be provided in the camelCase variant.\n  // Modernizr.testAllProps('boxSizing')\n  ModernizrProto.testAllProps = testPropsAll;\n\n\n\n  /**\n   * testAllProps determines whether a given CSS property is supported in the browser\n   *\n   * @memberof Modernizr\n   * @name Modernizr.testAllProps\n   * @optionName Modernizr.testAllProps()\n   * @optionProp testAllProps\n   * @access public\n   * @function testAllProps\n   * @param {string} prop - String naming the property to test (either camelCase or kebab-case)\n   * @param {string} [value] - String of the value to test\n   * @param {boolean} [skipValueTest=false] - Whether to skip testing that the value is supported when using non-native detection\n   * @example\n   *\n   * testAllProps determines whether a given CSS property, in some prefixed form,\n   * is supported by the browser.\n   *\n   * ```js\n   * testAllProps('boxSizing')  // true\n   * ```\n   *\n   * It can optionally be given a CSS value in string form to test if a property\n   * value is valid\n   *\n   * ```js\n   * testAllProps('display', 'block') // true\n   * testAllProps('display', 'penguin') // false\n   * ```\n   *\n   * A boolean can be passed as a third parameter to skip the value check when\n   * native detection (@supports) isn't available.\n   *\n   * ```js\n   * testAllProps('shapeOutside', 'content-box', true);\n   * ```\n   */\n\n  function testAllProps(prop, value, skipValueTest) {\n    return testPropsAll(prop, undefined, undefined, value, skipValueTest);\n  }\n  ModernizrProto.testAllProps = testAllProps;\n\n/*!\n{\n  \"name\": \"Flexbox\",\n  \"property\": \"flexbox\",\n  \"caniuse\": \"flexbox\",\n  \"tags\": [\"css\"],\n  \"notes\": [{\n    \"name\": \"The _new_ flexbox\",\n    \"href\": \"http://dev.w3.org/csswg/css3-flexbox\"\n  }],\n  \"warnings\": [\n    \"A `true` result for this detect does not imply that the `flex-wrap` property is supported; see the `flexwrap` detect.\"\n  ]\n}\n!*/\n/* DOC\nDetects support for the Flexible Box Layout model, a.k.a. Flexbox, which allows easy manipulation of layout order and sizing within a container.\n*/\n\n  Modernizr.addTest('flexbox', testAllProps('flexBasis', '1px', true));\n\n/*!\n{\n  \"name\": \"CSS Transforms 3D\",\n  \"property\": \"csstransforms3d\",\n  \"caniuse\": \"transforms3d\",\n  \"tags\": [\"css\"],\n  \"warnings\": [\n    \"Chrome may occassionally fail this test on some systems; more info: https://code.google.com/p/chromium/issues/detail?id=129004\"\n  ]\n}\n!*/\n\n  Modernizr.addTest('csstransforms3d', function() {\n    var ret = !!testAllProps('perspective', '1px', true);\n    var usePrefix = Modernizr._config.usePrefixes;\n\n    // Webkit's 3D transforms are passed off to the browser's own graphics renderer.\n    //   It works fine in Safari on Leopard and Snow Leopard, but not in Chrome in\n    //   some conditions. As a result, Webkit typically recognizes the syntax but\n    //   will sometimes throw a false positive, thus we must do a more thorough check:\n    if (ret && (!usePrefix || 'webkitPerspective' in docElement.style)) {\n      var mq;\n      var defaultStyle = '#modernizr{width:0;height:0}';\n      // Use CSS Conditional Rules if available\n      if (Modernizr.supports) {\n        mq = '@supports (perspective: 1px)';\n      } else {\n        // Otherwise, Webkit allows this media query to succeed only if the feature is enabled.\n        // `@media (transform-3d),(-webkit-transform-3d){ ... }`\n        mq = '@media (transform-3d)';\n        if (usePrefix) {\n          mq += ',(-webkit-transform-3d)';\n        }\n      }\n\n      mq += '{#modernizr{width:7px;height:18px;margin:0;padding:0;border:0}}';\n\n      testStyles(defaultStyle + mq, function(elem) {\n        ret = elem.offsetWidth === 7 && elem.offsetHeight === 18;\n      });\n    }\n\n    return ret;\n  });\n\n\n  // Run each test\n  testRunner();\n\n  // Remove the \"no-js\" class if it exists\n  setClasses(classes);\n\n  delete ModernizrProto.addTest;\n  delete ModernizrProto.addAsyncTest;\n\n  // Run the things that are supposed to run after the tests\n  for (var i = 0; i < Modernizr._q.length; i++) {\n    Modernizr._q[i]();\n  }\n\n  // Leak Modernizr namespace\n  window.Modernizr = Modernizr;\n\n\n;\n\n})(window, document);\n"}},e=>{e.O(0,["vendors-caches_app_node_modules_shopify_polyfills_base_esnext-caches_app_node_modules_tslib_t-ba87b2","vendors-caches_app_node_modules_shopify_marketing-assets_dist_javascripts_index_js-caches_app-5f2387","vendors-caches_app_node_modules_bugsnag_js_browser_notifier_js-caches_app_node_modules_shopif-ecc2ed","vendors-caches_app_node_modules_lodash_lodash_js-caches_app_node_modules_script-loader_addScript_js"],(()=>{return t="./app/ui/application/index.js",e(e.s=t);var t}));var t=e.O();_SK=t}]);